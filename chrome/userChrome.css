/* ##############################
  ╔═══╗ ╔╗╔╗╔╗ ╔══╗ ╔══╗ ╔══╗╔══╗
  ║╔══╝ ║║║║║║ ║╔═╝ ║╔╗║ ╚═╗║║╔═╝
  ║║╔═╗ ║║║║║║ ║╚═╗ ║║║║   ║╚╝║
  ║║╚╗║ ║║║║║║ ║╔═╝ ║║║║   ║╔╗║
  ║╚═╝║ ║╚╝╚╝║ ║║   ║╚╝║ ╔═╝║║╚═╗
  ╚═══╝ ╚═╝╚═╝ ╚╝   ╚══╝ ╚══╝╚══╝
  
  https://github.com/akkva/gwfox
  
  ############################## */

@namespace xul "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

:root {
  --bg1: light-dark(#f5f6f6, #383838);
  --bg2: light-dark(#fff, #454545);
  --bg3: light-dark(rgba(50, 50, 50, .1), rgba(225, 225, 225, .1));
  --bg4: light-dark(rgba(255, 255, 255, .75), rgba(15, 15, 12, .75));
  --bs1: 0 5px 15px rgba(0, 0, 0, .2), 0 0 0 .5px rgba(0, 0, 0, .15);
  --bs2: 0 5px 15px rgba(0, 0, 0, .25), inset 0 0 0 .5px rgba(0, 0, 0, .78), 0 0 0 .5px rgba(0, 0, 0, .2);
  --br1: 6px;
  --br2: 8px;
  --outline-color: light-dark(#7db0f7, #2c749f);
  --button-bgcolor: light-dark(rgba(70, 70, 70, .12), rgba(170, 170, 170, .15)) !important;
  --button-hover-bgcolor: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --button-active-bgcolor: light-dark(rgba(70, 70, 70, .15), rgba(170, 170, 170, .3)) !important;
  --button-background-color: var(--button-bgcolor) !important;
  --button-background-color-hover: var(--button-hover-bgcolor) !important;
  --button-background-color-active: var(--button-active-bgcolor) !important;
  --in-content-primary-button-background: light-dark(#007aff, #1280fd) !important;
  --in-content-primary-button-background-hover: light-dark(#0075dd, #006bdc) !important;
  --in-content-primary-button-background-active: light-dark(#005ebb, #0055bc) !important;
  --in-content-primary-button-text-color: #fff !important;
  --devtools-splitter-color: transparent !important;
  --button-text-color-primary: #fff !important;
  --button-primary-color: #fff !important;
  --color-accent-primary: light-dark(#007aff, #1280fd) !important;
  --color-accent-primary-hover: light-dark(#0075dd, #006bdc) !important;
  --color-accent-primary-active: light-dark(#005ebb, #0055bc) !important;
  --button-primary-bgcolor: light-dark(#007aff, #1280fd) !important;
  --button-primary-hover-bgcolor: light-dark(#0075dd, #006bdc) !important;
  --button-primary-active-bgcolor: light-dark(#005ebb, #0055bc) !important;
  --in-content-button-background: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --in-content-button-background-hover: light-dark(rgba(70, 70, 70, .15), rgba(170, 170, 170, .3)) !important;
  --in-content-button-background-active: light-dark(rgba(70, 70, 70, .12), rgba(170, 170, 170, .15)) !important;
  --link-color: light-dark(#007aff, #1280fd) !important;
  --link-color-hover: light-dark(#0075dd, #006bdc) !important;
  --link-color-active: light-dark(#005ebb, #0055bc) !important;
  --toolbar-field-focus-background-color: light-dark(rgba(155, 155, 155, .25), rgba(195, 195, 195, .25)) !important;
  --urlbarView-result-button-hover-color: light-dark(rgba(0, 0, 0, .8), rgba(255, 255, 255, .8)) !important;
  --urlbarView-result-button-hover-background-color: light-dark(rgba(155, 155, 155, .5), rgba(195, 195, 195, .5)) !important;
  --toolbarbutton-icon-fill-attention: light-dark(#007aff, #1280fd) !important;
  --arrowpanel-background: light-dark(#fff, #383838) !important;
  --focus-outline-color: transparent !important;
  --in-content-box-background: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;
  --background-color-box: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;
  --in-content-box-border-color: transparent !important;
  --sidebar-background-color: transparent !important;
  --sidebar-border-color: transparent !important;
  --sidebar-box-border: transparent !important;
  --sidebar-box-background: light-dark(rgba(102, 105, 108, .1), rgba(165, 165, 165, .1)) !important;
  --urlbarView-action-button-background-color: var(--button-bgcolor) !important;
  --urlbarView-hover-background: var(--button-hover-bgcolor) !important;
  --urlbarView-highlight-background: var(--button-hover-bgcolor) !important;
  --urlbarView-highlight-color: light-dark(#000, #fff) !important;
  --input-bgcolor: light-dark(rgba(70, 70, 70, .1), rgba(170, 170, 170, .2)) !important;
  --input-border-color: transparent !important;
  --tabstrip-min-height: unset !important;
  --tab-icon-overlay-fill: light-dark(rgba(0, 0, 0, .8), rgba(225, 225, 225, .8)) !important;
  --toolbarbutton-hover-background: color-mix(in srgb, currentColor 10%, transparent) !important;
  --toolbarbutton-active-background: color-mix(in srgb, currentColor 15%, transparent) !important;
  @media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  --arrowpanel-menuitem-border-radius: 8px !important;
  }
  @media (-moz-mac-tahoe-theme) {
  --bs1: 0 5px 15px rgba(0, 0, 0, .2), inset 0 0 0 .5px rgba(0, 0, 0, .34), 0 0 0 .5px rgba(0, 0, 0, .12);
  }
  @media (-moz-platform: windows) {
  --bs1: 0 45px 65px rgba(0, 0, 0, .35), 0 0 0 1px rgba(0, 0, 0, .17);
  --bs2: 0 45px 65px rgba(0, 0, 0, .45), 0 0 0 1px rgba(255, 255, 255, .15);    
  }
  @media (-moz-platform: linux) {
  --bg1: light-dark(#f5f6f6, #28282c);
  --bg2: light-dark(#fff, #36363a);
  --bs1: 0 2px 15px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .058);
  @media -moz-pref("gwfox.bms") {
  --bg1: light-dark(rgba(245, 245, 246, .76), rgba(40, 40, 44, .76));
  }
  }
}

:root[macOSNativeFullscreen] #navigator-toolbox {
  transform: none !important;
&.fullscreen-with-menubar {
  box-shadow: none !important;
}
}

#tabbrowser-tabbox {
  box-shadow: none !important;
  outline: none !important;
  overflow: unset !important;
}

.browserContainer {
  background: transparent !important;
  box-shadow: none !important;
  outline: none !important;
:root:not([inDOMFullscreen]) #tabbrowser-tabbox[sidebar-shown] & {
@media not -moz-pref("gwfox.noborder") {
  margin-inline-start: -8px !important;
}
}
}

:root:not([inDOMFullscreen], [chromehidden~="toolbar"]) {
#tabbrowser-tabbox browser:not(.devtools-toolbox-bottom-iframe, .devtools-toolbox-side-iframe) {
  border-radius: var(--br1);
  clip-path: inset(0 round 8px);
  background-color: light-dark(#fff, #191919) !important;
  -moz-window-dragging: no-drag;
@media (-moz-mac-tahoe-theme) {
  border-radius: 10px;
  clip-path: inset(0 round 12px);
}
}

.browserStack {
  border-radius: var(--br2);
  margin: 8px !important;
  box-shadow: 0 1px 8px light-dark(#00000026, #00000040);
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px;
}
}

#tabbrowser-tabpanels {
  background-color: transparent !important;
  margin-top: -8px;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0;
}
&[splitview] {
:root:not([inDOMFullscreen]) & > .split-view-panel:not(.deck-selected) {
  overflow: unset !important;
}
.split-view-panel {
  margin: 0 !important;
}
.browserStack {
  border-radius: var(--br2) !important;
  outline: none !important;
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px !important;
}
}
.split-view-splitter {
  border: none !important;
  background: none !important;
  margin-inline-start: -4.5px !important;
  margin-inline-end: -4.5px !important;
  z-index: 9;
@media not (-moz-platform: macos) {
  margin-inline-start: -6px !important;
  margin-inline-end: 0px !important;
}
}
split-view-footer {
  display: none !important;
}
}
}

.devtools-toolbox-side-iframe {
  border-radius: var(--br2);
  margin-top: 8px !important;
  margin-bottom: 8px !important;
  box-shadow: 0 1.5px 9px light-dark(#00000026, #00000040);
  -moz-window-dragging: no-drag;
  &:first-child { margin-left: 8px !important; }
  &:last-child { margin-right: 8px !important; }
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px;
}
}

.devtools-toolbox-bottom-iframe {
  border-radius: var(--br2);
  margin: 0 8px 8px 8px !important;
  box-shadow: 0 1.5px 9px light-dark(#00000026, #00000040);
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px;
}
}

:has(#sidebar-main:not([hidden])) {
.browserStack {
  margin-left: 0;
}

.devtools-toolbox-side-iframe:first-child {
  margin-left: 0 !important;
  margin-right: 8px !important;
}

#sidebar-box {
  margin-bottom: 2px !important;
&:not([sidebar-positionend]) {
&[sidebar-panel-open] {
  margin-inline-end: 2px !important;
@media (-moz-platform: windows) {
  margin-inline-end: 1px !important;
}
@media (-moz-platform: linux) {
  margin-inline-end: 0 !important;
}
}
}
}
}
}

:has(#PersonalToolbar:hover, #sidebar-main:hover) {
#tabbrowser-tabbox browser {
  -moz-window-dragging: unset;
}
}

#navigator-toolbox {
  border: none !important;
  z-index: unset !important;
}

.browser-toolbar {
  border: none !important;
}

.browser-titlebar {
  will-change: unset !important;
}

#nav-bar {
  padding-top: 2px !important;
  height: 47px !important;
  background: transparent !important;
@media (-moz-platform: windows) {
@media not -moz-pref("sidebar.verticalTabs") {
  height: 48px !important;
}
}
&:not([customizing]) toolbarspring:not(#vertical-spacer) {
  min-width: 12.5px !important;
}
}

@media not -moz-pref("gwfox.atbc") {
#PersonalToolbar, #TabsToolbar,
#navigator-toolbox, #browser {
  background: transparent !important;
}
}

:root[inDOMFullscreen] {
#tabbrowser-tabbox {
  margin: 0 !important;
}
}

:root[inFullscreen] {
@media not (-moz-platform: linux) {
#nav-bar {
  padding-left: 0 !important;
}
}
}

:root[customizing] {
#PersonalToolbar {
  outline: 1px dashed var(--button-active-bgcolor) !important;
}
}

:root[privatebrowsingmode] {
#customization-container,
#browser {
  background: transparent !important;
@media (-moz-platform: linux) {
@media -moz-pref("gwfox.bms") {
  background: rgba(40, 40, 44, .76) !important;
}
@media not -moz-pref("gwfox.bms") {
  background: #28282c !important;
}
}
}

#tabbrowser-tabbox browser:not(.devtools-toolbox-bottom-iframe, .devtools-toolbox-side-iframe) {
  background-color: #191919 !important;
}
}

@media not -moz-pref("sidebar.verticalTabs") {
:has(#sidebar-main[hidden]) {
#tabbrowser-tabpanels[splitview] {
.split-view-panel[column="0"] {
  margin-inline-end: -8px !important;
}
@media -moz-pref("gwfox.noborder") {
.split-view-panel[column="0"] {
  margin-inline-end: 8px !important;
}
}
}
}
:has([sidebar-shown]) {
@media (min-width: 610px) and (max-width: 846px) {
.findbar-highlight, .findbar-match-diacritics,
.findbar-entire-word, .findbar-case-sensitive {
  display: none;
}
}
}
.titlebar-buttonbox-container {
  position: fixed !important;
  left: 7px;
  top: 15.5px;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  left: unset;
  right: 0;
  top: 1px;
@media (-moz-platform: windows) {
.titlebar-button {
  padding-top: 19px !important;
  padding-bottom: 18px !important;
}
}
@media (-moz-platform: linux) {
  top: 11px;
}
}
}
}

.titlebar-spacer, #nav-bar:not([customizing]) toolbarspring {
  display: none !important;
}

#navigator-toolbox {
  display: grid;
  grid-template-columns: minmax(auto, 0) auto;
}

#nav-bar {
  width: fit-content !important;
  grid-area: 2 / 1 / auto / auto;
  padding-left: 76px !important;
@media (-moz-mac-tahoe-theme) {
  padding-left: 82px !important;
}
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  padding-left: 0 !important;
}
}
}

.webextension-browser-action,
#nav-bar-customization-target > toolbarbutton:nth-last-child(3) {
  margin-right: 4px !important;
}

#urlbar-container {
  max-width: 219px !important;
}

#TabsToolbar {
  grid-area: 2 / 2 / auto / auto;
  padding-inline-end: 77px !important;
  margin-bottom: 5.5px !important;
  margin-left: -2px !important;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  padding-inline-end: 212px !important;
@media (-moz-platform: linux) {
  padding-inline-end: 113px !important;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  padding-inline-end: 150px !important;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  padding-inline-end: 187px !important;
}
}
}
}

:has(#nav-bar-overflow-button:not(#nav-bar:not([overflowing], [nonemptyoverflow], [customizing]) > #nav-bar-overflow-button)) & {
  padding-inline-end: 111px !important;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  padding-inline-end: 246px !important;
@media (-moz-platform: linux) {
  padding-inline-end: 147px !important;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  padding-inline-end: 184px !important;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  padding-inline-end: 221px !important;
}
}
}
}
}
}

#navigator-toolbox > *:not(#TabsToolbar, #nav-bar) {
  grid-column: 1 / span 2 !important;
}

#PanelUI-menu-button {
  position: fixed;
  inset-inline-end: 3px;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  inset-inline-end: 138px;
@media (-moz-platform: linux) {
  inset-inline-end: 39px;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  inset-inline-end: 76px;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  inset-inline-end: 113px;
}
}
}
}
}

#nav-bar-overflow-button {
  position: fixed;
  inset-inline-end: 43px;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  inset-inline-end: 178px;
@media (-moz-platform: linux) {
  inset-inline-end: 79px;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  inset-inline-end: 116px;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  inset-inline-end: 153px;
}
}
}
}
}

#unified-extensions-button {
  position: fixed;
  display: flex !important;
  inset-inline-end: 43px;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  inset-inline-end: 178px;
@media (-moz-platform: linux) {
  inset-inline-end: 79px;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  inset-inline-end: 116px;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  inset-inline-end: 153px;
}
}
}
}

:has(#nav-bar-overflow-button:not(#nav-bar:not([overflowing], [nonemptyoverflow], [customizing]) > #nav-bar-overflow-button)) & {
  inset-inline-end: 77px;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  inset-inline-end: 212px;
@media (-moz-platform: linux) {
  inset-inline-end: 110px;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  inset-inline-end: 147px;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  inset-inline-end: 187px;
}
}
}
}
}
}
}

/* urlbar */

#urlbar {
  --urlbar-box-bgcolor: var(--button-hover-bgcolor) !important;
  margin: 0 !important;
  -moz-window-dragging: no-drag;
  transition: margin .25s !important;
}

#urlbar-search-mode-indicator {
  margin-top: 3px !important;
  height: 22px !important;
}

.urlbarView-url {
.urlbarView-row & {
  color: light-dark(#5a5a5a, #a2a2a2) !important;
}
}

.urlbarView-action-btn {
  color: light-dark(#5a5a5a, #a2a2a2) !important;
  font-weight: unset !important;
}

.urlbarView-row[has-action]:is([type="switchtab"], [type="remotetab"], [type="clipboard"]) {
> .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-action {
  border: none !important;
  color: light-dark(#5a5a5a, #a2a2a2) !important;
  background-color: var(--button-bgcolor) !important;
&.urlbarView-tabGroup {
  color: light-dark(#5a5a5a, #a2a2a2) !important;
  background-color: var(--button-bgcolor) !important;
}
}
}

.urlbarView-action-btn {
&[data-action^="tabgroup-"] {
  color: light-dark(#5a5a5a, #a2a2a2) !important;
  background-color: var(--button-bgcolor) !important;
&:hover {
  opacity: 1 !important;
  background-color: var(--button-hover-bgcolor) !important;
}
}
}

.urlbar-revert-button,
.searchmode-switcher {
  height: 28px !important;
  width: 28px !important;
  border-radius: var(--br1) !important;
&:not(:hover, [open]) {
  background-color: transparent !important;
}
}

.urlbar-go-button {
  border-radius: var(--br1) !important;
}

.searchmode-switcher-dropmarker {
  display: none !important;
}

.searchmode-switcher-chicklet {
  height: 28px !important;
  border-radius: 16px !important;
}

#urlbar[usertyping] .searchmode-switcher-chicklet {
  margin-left: 7px !important;
}

#urlbar[breakout][breakout-extend]:not([usertyping]) {
.searchmode-switcher {
  display: none !important;
}

.urlbar-input-container[pageproxystate="invalid"] {
  padding-inline-start: 50px !important;
  background-image: url(chrome://global/skin/icons/search-glass.svg);
  background-repeat: no-repeat;
  background-position: left 21px bottom 16px;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  fill-opacity: .65;
}
}

.urlbar-background {
  height: 30px !important;
  border: none !important;
  border-radius: var(--br1) !important;
  background: var(--button-hover-bgcolor) !important;
  transition: background .5s !important;
}

#urlbar:hover .urlbar-background {
  background: var(--button-active-bgcolor) !important;
  box-shadow: none !important;
  transition: background .5s !important;
}

#urlbar[open] .urlbar-background {
  transition: none !important;
}

.urlbar-input-container {
  padding: 0 !important;
  height: 30px !important;
  border-radius: var(--br1) !important;
}

.urlbar-input::placeholder,
.searchbar-textbox::placeholder {
  text-align: left !important;
  font-size: 12.5px !important;
}

.urlbar-input {
  text-align: center !important;
  margin-bottom: 1px !important;
@media (-moz-platform: linux) {
  font-size: 13px !important;
}
}

.urlbar-input-container[pageproxystate="invalid"] .urlbar-input {
  mask-image: linear-gradient(to left, transparent, #fff 10ch);
  text-align: left !important;
}

#urlbar[focused] > .urlbar-input-container {
  outline: none !important;
}

#urlbar > .urlbar-background {
  outline-style: solid !important;
  outline-color: transparent !important;
  outline-width: 18px !important;
}

#urlbar[focused]:not([suppress-focus-border]) > .urlbar-background {
  outline-color: var(--outline-color) !important;
  outline-width: 3px !important;
  outline-offset: -1px !important;
  transition: all .3s cubic-bezier(.8, 0, 0, .8) !important;
}

#urlbar:not([breakout][breakout-extend]) {
  transform: none !important;

.searchmode-switcher-close,
.searchmode-switcher-title {
  display: none !important;
}
}

#urlbar:not([breakout][breakout-extend]) #identity-icon-label {
  display: none !important;
}

.urlbar[searchmode]:not([usertyping]) .urlbarView-body-inner {
#urlbar[open] > .urlbarView > .urlbarView-body-outer > & {
  border-top: none !important;
}
}

#urlbar[breakout][breakout-extend] {
  top: 20vh !important;
  left: 29vw !important;
  width: 45vw !important;
  max-width: unset !important;
  margin-top: 15px !important;
  animation-name: panel-grow;
  animation-duration: 250ms;
  transition: none !important;

.urlbar-input,
.urlbar-input::placeholder {
  font-size: 21px !important;
}

.urlbar-input-container {
  height: 50px !important;
  padding-inline-start: 15px !important;
  padding-inline-end: 15px !important;
& > :is(box, image) {
  margin-top: 10px !important;
}
}

.urlbarView-row-inner {
  flex-wrap: nowrap !important;
}
  
.urlbarView-no-wrap {
  max-width: 50% !important;
  flex-basis: 0 !important;
}

.urlbarView-row[has-url] .urlbarView-url {
  margin-left: 0 !important;
}

.urlbarView-row[has-url] .urlbarView-title-separator {
  display: block !important;
}

#urlbar-search-mode-indicator {
  margin-top: 13px !important;
}

.searchmode-switcher-title,
#searchmode-switcher-title {
  margin-left: 10px !important;
}
} 

#urlbar[breakout][breakout-extend] .urlbar-background {
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: var(--bs1) !important;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
}

:has(#urlbar[breakout][breakout-extend]) {
.urlbar-background {
  height: unset !important;
}
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  top: 19vh !important;
  left: 29vw !important;
  width: 45vw !important;
  max-width: unset !important;
  margin-top: 25px !important;
}

.urlbar-background {
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: var(--bs1) !important;
  height: 50px !important;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
@media (prefers-color-scheme: dark) {
@media not (-moz-platform: linux) {
  box-shadow: var(--bs2) !important;
}
}
}

.urlbar-input,
.urlbar-input::placeholder {
  text-align: left !important;
}

:has(#urlbar[breakout][breakout-extend]) {
.urlbar-background {
  height: unset !important;
}

.urlbar-input,
.urlbar-input::placeholder {
  text-align: left !important;
}
}

.urlbar-input-container {
  height: 50px !important;
  padding-inline-start: 15px !important;
  padding-inline-end: 15px !important;
& > :is(box, image) {
  margin-top: 10px !important;
}
}

.urlbar-input {
  font-size: 21px !important;
}

#urlbar[focused] .urlbar-background {
  box-shadow: var(--bs1) !important;
@media (prefers-color-scheme: dark) {
@media not (-moz-platform: linux) {
  box-shadow: var(--bs2) !important;
}
}
}

#urlbar-search-mode-indicator {
  margin-top: 13px !important;
}

.searchmode-switcher {
  margin-top: 10px !important;
}
}

:has(#urlbar[breakout][breakout-extend], [usertyping]) {
#urlbar-container {
  max-height: 30px !important;
  min-height: 30px !important;
  margin-top: 6.5px !important;
  border-radius: var(--br1);
  background: var(--button-active-bgcolor);
@media (-moz-platform: windows) {
  margin-top: 7.5px !important;
}
}

:has(#urlbar[persistsearchterms]):not(:has(#urlbar[breakout][breakout-extend])) {
#urlbar-container {
  background: none;
  margin-top: 7.5px !important;
@media (-moz-platform: windows) {
  margin-top: 8.5px !important;
}
}
}
}

:has(#urlbar[breakout][breakout-extend]) {
.urlbar-revert-button,
.searchmode-switcher {
  margin-top: 10px !important;
}
}

:has(#identity-box[pageproxystate="valid"].extensionPage) {
.urlbar-page-action,
.identity-box-button,
.searchmode-switcher,
#tracking-protection-icon-container {
  display: none !important;
}

.urlbar-input-container {
  padding-inline-start: 28px !important;
  background-image: url(chrome://global/skin/icons/search-glass.svg);
  background-repeat: no-repeat;
  background-position: left 6px bottom 7px;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  fill-opacity: .69;
@media (not -moz-pref("gwfox.plus")) or (not -moz-pref("sidebar.verticalTabs")) {
  background-position: left 6px bottom 6px;
}
}

.urlbar-input-container[pageproxystate="valid"] .urlbar-input {
  text-align: left !important;
}

@media -moz-pref("gwfox.plus") {
:has(#tabbrowser-tabs[orient="vertical"]:not([expanded])) {
.urlbar-input-container {
  background-position: center;
}
}
}

#urlbar[breakout][breakout-extend] .urlbar-input-container {
  padding-inline-start: 43px !important;
  background-position: left 21px bottom 16px;
}

.urlbar-input {
  mask-image: linear-gradient(to left, transparent, #fff 10ch);
}
}

.urlbarView-body-outer {
  padding: 0 8px !important;
}

.urlbarView-body-inner {
  border: 0 !important;
  border-top: 1px solid rgba(105, 105, 105, .2) !important;
}

.search-one-offs {
  background: transparent !important;
  border: none !important;
  padding: 8px !important;
}

.urlbar-page-action {
  height: 28px !important;
  border-radius: var(--br1) !important;
  padding: 6px !important;
}

@media not -moz-pref("sidebar.verticalTabs") {
@media (-moz-platform: windows) {
#urlbar:not([breakout][breakout-extend], [usertyping]) {
  margin-top: .5px !important;
}
}
}

@media -moz-pref("gwfox.plus") or (not -moz-pref("sidebar.verticalTabs")) {
&:not(:has(#identity-box[pageproxystate="valid"].extensionPage)) {
#urlbar:not(:hover, [open]) {
.urlbar-input {
  padding-inline-start: 10px !important;
  padding-inline-end: 15px !important;
}

.urlbar-input-container[pageproxystate="invalid"] .urlbar-input {
  padding-inline-start: 0 !important;
  padding-inline-end: 0 !important;
}
}

.urlbar-page-action {
  margin-inline-end: calc(-16px - 2 * var(--urlbar-icon-padding));
  opacity: 0;
}

#identity-box, #identity-permission-box, #notification-popup-box, #tracking-protection-icon-container {
  margin-inline-start: calc(-16px - 2 * var(--urlbar-icon-padding));
  opacity: 0;
}

#urlbar:not([breakout][breakout-extend]) {
.urlbar-page-action, #identity-box, #identity-permission-box, #notification-popup-box, #tracking-protection-icon-container {
  transition: .2s;
}
}

#urlbar[open] .urlbar-page-action,
#urlbar:hover .urlbar-page-action,
.urlbar-page-action[open] {
  opacity: 1;
  margin-inline-end: 0 !important;
}

:has(#page-action-buttons > *[open]) {
.urlbar-page-action {
  opacity: 1;
  margin-inline-end: 0 !important;
}
}

:has(#identity-box > *[open]) {
#identity-box {
  opacity: 1;
  margin-inline-start: 0 !important;
}
}

#urlbar[open] #tracking-protection-icon-container,
#urlbar:hover #tracking-protection-icon-container,
#tracking-protection-icon-container[open] {
  opacity: 1;
  margin-inline-start: 0 !important;
}

#urlbar[open] #identity-box,
#urlbar[open] #identity-permission-box,
#urlbar[open] #notification-popup-box,
#urlbar:hover #identity-box,
#urlbar:hover #identity-permission-box,
#urlbar:hover #notification-popup-box,
#identity-box[open],
#identity-permission-box[open],
#notification-popup-box[open] {
  opacity: 1;
  margin-inline-start: 0 !important;
}

.urlbar-page-action:active,
#identity-box:active,
#identity-permission-box:active,
#notification-popup-box:active,
#tracking-protection-icon-container:active {
  opacity: unset;
}
}
}

#urlbar-zoom-button {
  background: var(--button-hover-bgcolor) !important;
}

#urlbar:-moz-window-inactive {
  * { opacity: 78%; }
}

#urlbar[focused] > .urlbar-background,
#searchbar:focus-within {
  box-shadow: none !important;
}

.urlbarView-row:is([type=bookmark], [pinned]) > .urlbarView-row-inner > .urlbarView-no-wrap > .urlbarView-type-icon {
  display: none !important;
}

#searchbar {
  min-height: 28px !important;
  background: var(--button-hover-bgcolor) !important;
  border-radius: var(--br1) !important;
  border: none !important;
}

.search-go-button, .search-panel-header, .searchbar-separator {
  display: none !important;
}

#PopupSearchAutoComplete {
  --panel-background: var(--bg2) !important;
  --panel-border-color: transparent !important;
}

/* button */

.toggle-button { --toggle-dot-background-color-on-pressed: #fff !important; }
#blocked-permissions-container, #picture-in-picture-button,
.private-browsing-indicator-with-label,
#reset-pbm-toolbar-button, #taskbar-tabs-button,
#firefox-view-button, #fxa-toolbar-menu-button,
#userContext-icons, #userContext-label,
.sharing-icon, #save-to-pocket-button {
  display: none !important;
}

.tab-close-button, .tab-icon-overlay, .tab-icon-image, span[part="button"],
.toolbarbutton-1, #identity-permission-box,
#notification-popup-box, #star-button,
#translations-button-circle-arrows,
#reader-mode-button > .urlbar-icon,
#translations-button > #translations-button-icon,
#shopping-sidebar-button > .urlbar-icon , #identity-box,
#tracking-protection-icon-container, .urlbar-go-button {
  fill: light-dark(#525252, #c9c9cb) !important;
  fill-opacity: 1 !important;
}

.tab-close-button:active, .tab-icon-overlay:active, span[part="button"]:active,
.toolbarbutton-1:active, #identity-permission-box:active,
#notification-popup-box:active, #star-button:active,
#translations-button-circle-arrows:active,
#reader-mode-button:active > .urlbar-icon,
#translations-button:active > #translations-button-icon,
#shopping-sidebar-button:active > .urlbar-icon , #identity-box:active,
#tracking-protection-icon-container:active, .urlbar-go-button:active {
  fill: light-dark(#2d2d2d, #ececec) !important;
}

#viewButton {
  border: none !important;
  background: none !important;
  border-radius: 4px !important;
}

#viewButton:hover {
  background-color: var(--button-hover-bgcolor) !important;
}

#viewButton[open] {
  background-color: var(--button-active-bgcolor) !important;
}

#downloads-indicator-progress-outer {
  border: 1.5px solid light-dark(#525252, #c9c9cb) !important;
  width: 17px !important;
  height: 17px !important;
}

.webextension-browser-action {
  border-radius: var(--br1) !important;
  margin-bottom: 8.5px !important;
  width: 30px !important;
}

#nav-bar .toolbarbutton-1 {
  max-height: 30px !important;
  margin-top: 6.5px !important;
}

#nav-bar .toolbarbutton-1 > .toolbarbutton-icon {
  height: 30px !important;
  width: 30px !important;
  padding: 6px !important;
  border-radius: var(--br1) !important;
}

#TabsToolbar .toolbarbutton-1 {
  max-height: 30px !important;
  margin: unset !important;
  margin-top: 4px !important;
  margin-bottom: 3px !important;
}

#TabsToolbar .toolbarbutton-1 > .toolbarbutton-icon {
  height: 30px !important;
  width: 30px !important;
  padding: 6px !important;
  border-radius: var(--br1) !important;
}

#TabsToolbar #downloads-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: var(--br1) !important;
  padding: 6.5px 5.5px 5.5px 6.5px !important;
}

#PanelUI-menu-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: var(--br1) !important;
  padding: 6px 5.5px 0 !important;
}

#PanelUI-menu-button .toolbarbutton-icon {
  height: 19px !important;
  width: 19px !important;
  scale: 1.05;
}

#nav-bar {
#downloads-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: var(--br1) !important;
  padding: 6.5px 5.5px 5.5px 6.5px !important;
}
}

#sidebar-button > .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  border-radius: var(--br1) !important;
  padding: 7px 0 0 7px !important;
}

#TabsToolbar #alltabs-button,
#nav-bar #alltabs-button {
> .toolbarbutton-badge-stack {
  height: 30px !important;
  width: 30px !important;
  padding: 6px 0 0 6px !important;
  border-radius: var(--br1) !important;
> .toolbarbutton-icon {
  height: 18px !important;
  width: 18px !important;
  margin: unset !important;
}
}
}

#page-action-buttons {
  margin-right: 0 !important;
  margin-bottom: 0 !important;
}

#identity-box {
  height: 28px !important;
  border-radius: var(--br1) !important;
}

#identity-box:hover {
  background: rgba(70, 70, 70, .1) !important;
}

.identity-box-button {
  background: none !important;
}

#notification-popup-box {
  margin-top: 0 !important;
  background: none !important;
}

#tracking-protection-icon-container {
  height: 28px !important;
  border-radius: var(--br1) !important;
}

#star-button[starred], #translations-button-circle-arrows,
#reader-mode-button[readeractive] > .urlbar-icon,
#translations-button[translationsactive] > #translations-button-icon,
#shopping-sidebar-button[shoppingsidebaropen] > .urlbar-icon {
  fill: light-dark(#525252, #c9c9cb) !important;
}

:has(#star-button-box[open]) {
#star-button[starred] {
  animation-name: urlbar-zoom-reset-pulse;
  animation-duration: 250ms;
}
}

#appMenu-fullscreen-button2 .toolbarbutton-icon {
  background: none !important;
}

#appMenu-fullscreen-button2:hover {
  background: var(--button-hover-bgcolor) !important;
}

#appMenu-fullscreen-button2:active {
  background: var(--button-active-bgcolor) !important;
}

/* tabs */

.tab-background {
  border: none !important;
  box-shadow: none !important;
  border-radius: var(--br1) !important;
#tabbrowser-tabs[movingtab-group] & {
 &[dragover-groupTarget] {
  background-color: color-mix(in srgb, var(--dragover-tab-group-color) 38%, transparent) !important;
  outline: none !important;
}
&:is([selected], [multiselected]) {
  outline: none !important;
}
}
tab-group:not([collapsed]) > tab > .tab-stack > & {
  background-color: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 14%, transparent) !important;
tab:not([selected]):hover & {
  background-color: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 21%, transparent) !important;
}
}
&[selected] {
tab-group:not([collapsed]) > tab > .tab-stack > &,
tab-group[collapsed] > .tabbrowser-tab[visuallyselected] > .tab-stack > & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 24%, transparent) !important;
}
}
}

.tab-stack {
  margin: 0 1px !important;
}

.tab-label {
  font-size: 13px !important;
  margin-bottom: 1px !important;
}

#tabbrowser-tabs[orient="horizontal"]:not([overflow]) {
  margin-inline-start: 0 !important;
  padding-inline-start: 0 !important;
}

#tabbrowser-tabs[orient="horizontal"][overflow] {
  padding-inline-start: calc(var(--tab-overflow-pinned-tabs-width) - 2px) !important;
  margin-inline-start: 0 !important;
}

#tabbrowser-tabs[orient="horizontal"][overflow]:has([pinned]) {
  padding-inline-start: var(--tab-overflow-pinned-tabs-width) !important;
}

#tabbrowser-tabs {
  --tab-min-width: 88px !important;
  margin-bottom: -1px !important;
  border-inline-start: none !important;
tab-group > .tabbrowser-tab {
  transition: .25s !important;
}
}

#tabbrowser-tabs[movingtab] {
  margin-bottom: -16px !important;
}

.tabbrowser-tab:not([selected]) .tab-close-button {
  display: none;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
  display: flex !important;
}

.tab-background:not([selected]) {
  background: var(--button-hover-bgcolor) !important;
  transition: background .5s !important;
}

.tab-background[selected] {
  background: light-dark(rgba(70, 70, 70, .18), rgba(170, 170, 170, .4)) !important;
}

.tabbrowser-tab:hover .tab-background {
  background: var(--button-active-bgcolor) !important;
  transition: background .5s !important;
}

.tab-icon-overlay {
  scale: .7;
  &:hover { scale: .9; }
  &:is([soundplaying], [muted], [activemedia-blocked]) {
  background: light-dark(color-mix(in srgb, var(--button-bgcolor) 20%, #fff), color-mix(in srgb, var(--button-bgcolor) 80%, #555)) !important;
  backdrop-filter: blur(30px);
  border: none !important;
  &:not([pinned]) {
  background-size: 16px !important;
}
  &:hover {
  background: light-dark(color-mix(in srgb, var(--button-hover-bgcolor) 20%, #fff), color-mix(in srgb, var(--button-hover-bgcolor) 80%, #555)) !important;
}
  &:active {
  background: light-dark(color-mix(in srgb, var(--button-active-bgcolor) 20%, #fff), color-mix(in srgb, var(--button-active-bgcolor) 80%, #555)) !important;
}
}
  :is(
  :root[uidensity=compact],
  #tabbrowser-tabs[secondarytext-unsupported],
  :root:not([uidensity=compact]) #tabbrowser-tabs:not([secondarytext-unsupported]) .tabbrowser-tab:hover
  ) .tab-icon-stack[indicator-replaces-favicon] > :not(&),
  :root:not([uidensity=compact]) #tabbrowser-tabs:not([secondarytext-unsupported]) .tabbrowser-tab:not(:hover) &[indicator-replaces-favicon] {
  opacity: 1 !important;
}
}

.tab-secondary-label {
  display: none !important;
}

.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
  min-height: 18px !important;
  max-width: 2px !important;
  margin: 6px 0 0 0 !important;
  border-radius: 2px !important;
}

#tab-preview-panel {
  --panel-padding: 0 !important;
}

.tab-group-editor-panel {
toolbarseparator:not(.tab-group-edit-mode-only) {
  display: none;
}

.tab-group-editor-name {
> label {
  margin-inline-start: 8px !important;
}
}

.tab-group-editor-swatch {
input:checked + & {
  border-color: light-dark(rgba(0, 0, 0, .4), rgba(255, 255, 255, .2)) !important;
}
}
}

.tab-group-overflow-count-container {
  display: none !important;
}

.tab-group-label-container {
#tabbrowser-tabs:is([orient="horizontal"], [orient="vertical"]:not([expanded])) tab-group:not([collapsed]) > &::after,
#tabbrowser-tabs:is([orient="horizontal"], [orient="vertical"]:not([expanded])) tab-group[hasactivetab] > &::after,
#tabbrowser-tabs[orient="vertical"] tab-group[hasactivetab][hasmultipletabs] > &.tab-group-overflow-count-container::after {
  content: none !important;
}
}

.tab-group-label-container {
&[dragtarget] {
  position: unset !important;
}

#tabbrowser-tabs[orient="vertical"] & {
  margin-block-start: 5px !important;

tab-group:not([collapsed]) > &,
tab-group[collapsed][hasactivetab] > & {
  padding-block-end: 0 !important;
}
}
}

.tab-group-label-hover-highlight {
tab-group[collapsed] & {
#tabbrowser-tabs[orient="vertical"][expanded] & {
  margin-inline-end: 0 !important;
}
}

#tabbrowser-tabs[orient="vertical"]:not([expanded]) & {
  margin-inline: 0 !important;
}

tab-group[collapsed]:not([movingtabgroup]) &:hover,
tab-group[previewpanelactive] & {
  background-color: transparent !important;

#tabbrowser-tabs[orient="horizontal"] & {
  box-shadow: none !important;
}

#tabbrowser-tabs[orient="vertical"] & {
  box-shadow: none !important;
}

#tabbrowser-tabs[orient="vertical"][expanded] & {
  box-shadow: none !important;
}
}
}

@media not -moz-pref("sidebar.verticalTabs") {
.tabbrowser-tab[selected]:not([pinned]) {
  min-width: 138px !important;
tab-split-view-wrapper & {
  min-width: unset !important;
}
}

.tab-icon-image:not([src], [pinned], [crashed], [sharing], [pictureinpicture], [busy]) {
   display: block !important;
}

.tab-content[pinned] .tab-label-container {
  margin: 0 !important;
}

.tab-background {
  max-height: 30px !important;
  min-height: 30px !important;
}

#TabsToolbar #tabs-newtab-button > .toolbarbutton-icon,
#TabsToolbar #new-tab-button > .toolbarbutton-icon {
  height: 32px !important;
  width: 32px !important;
  padding: 5px 7px !important;
  border-radius: var(--br1) !important;
  background: none !important;
}

#TabsToolbar #new-tab-button,
#TabsToolbar #tabs-newtab-button {
  width: 30px;
  margin: 4px 3px -3px 3px !important;
  max-height: 30px !important;
  min-height: 30px !important;
  border-radius: var(--br1) !important;
}

#TabsToolbar #new-tab-button:hover,
#TabsToolbar #tabs-newtab-button:hover {
  background: var(--button-hover-bgcolor) !important;
}

#TabsToolbar #new-tab-button:active,
#TabsToolbar #tabs-newtab-button:active {
  background: var(--button-active-bgcolor) !important;
}

.tab-group-label {
  color: light-dark(var(--tab-group-color), var(--tab-group-color-invert)) !important;
  opacity: .9;
  outline: none !important;
  min-width: 5px !important;
  font-weight: normal !important;
  background-color: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 30%, transparent) !important;
}

.tab-group-label-container {
tab-group:not([collapsed]) > &::after {
  background-color: transparent !important;
}
}
}

.tab-group-line {
  display: none !important;
}

.tabbrowser-tab:active,
#tabs-newtab-button:active,
#vertical-tabs-newtab-button:active,
.tools-and-extensions > moz-button:active {
  transform: scale(.98);
}

:has(.tab-icon-overlay:active, .tab-audio-button:active, .tab-close-button:active) {
.tabbrowser-tab {
  transform: none;
}
}

tab-split-view-wrapper {
  margin-inline-start: 7.5px !important;
  margin-inline-end: 8px !important;
@media (-moz-platform: linux) {
  margin-inline-start: 10px !important;
  margin-inline-end: 11px !important;
}
  padding: 0 !important;
  background-color: transparent !important;
#tabbrowser-tabs[orient="vertical"]:not([expanded]) & {
  margin-inline-start: 0 !important;
.tab-content {
  margin-inline-start: 8px !important;
}
.tab-close-button {
  inset-inline-start: -8px !important;
}
}
tab-group & {
.tab-background {
.tabbrowser-tab:hover & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 21%, transparent) !important;
}
.tabbrowser-tab[selected]:hover & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 24%, transparent) !important;
}
&[selected] {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 24%, transparent) !important;
}
}
}
&:not([hasactivetab]) {
.tabbrowser-tab {
&:not(:hover) {
  border-image: linear-gradient( to bottom, transparent 30%, rgba(155, 155, 155, .3) 30%, rgba(155, 155, 155, .3) 70%, transparent 70%) 1 !important;
}
tab-group & {
  border-image: none !important;
}
&:first-child {
  border-block-end: none !important;
}
&:last-child {
&:hover {
  border-inline-start: none !important;
}
tab-group & {
  border-inline-start: none !important;
}
}
}
}
&[hasactivetab] {
.tab-background:not([selected]) {
  background: var(--button-bgcolor) !important;
tab-group & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 14%, transparent) !important;
}
}
}
#tabbrowser-tabs[orient="horizontal"] & {
  margin-inline-start: 0 !important;
  margin-inline-end: 0 !important;
.tabbrowser-tab {
  border-image: none !important;
&:last-child {
  border-inline-start: none !important;
}
}
tab-group & {
.tab-background {
.tabbrowser-tab:hover & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 21%, transparent) !important;
}
.tabbrowser-tab[selected]:hover & {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 24%, transparent) !important;
}
}
&:not([hasactivetab]) {
.tab-background {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 14%, transparent) !important;
}
}
}
}
}

#tabbrowser-tabs[orient="vertical"] {
  grid-gap: unset !important;
  margin-top: 3px !important;
&:has([pinned]) {
  margin-top: 1px !important;
}
.tabbrowser-tab {
  padding-block: 5px !important;
&:not([pinned]) .tab-background {
  margin-block: 0 !important;
}
}
}
  
/* popup */

menupopup, panel[type="arrow"] {
  --panel-border-radius: var(--br1) !important;
  --panel-padding: 6px !important;
  --panel-separator-color: transparent !important;
  --arrowpanel-background: var(--bg2) !important;
  --arrowpanel-border-color: transparent !important;
  --arrowpanel-color: light-dark(#000, #fff) !important;
  --padding: 0;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  --panel-border-radius: 12px !important;
}
@media not (-moz-platform: linux) {
  appearance: menupopup !important;
}
}

panel[type="arrow"] {
  --panel-background: light-dark(rgba(255, 255, 255, .55), rgba(15, 15, 12, .55)) !important;
  --arrowpanel-background: transparent !important;
  --arrowpanel-border-radius: 0 !important;
}

@keyframes panel-grow {
  0% {
    transform: scale(.92);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes slide-in {
  0%, 30% {
    translate: 100%;
    opacity: 0;
  }
  100% {
    translate: 0;
    opacity: 1;
  }
}

@keyframes slide-out {
  100% {
    translate: 100%;
    opacity: 0;
  }
  0% {
    translate: 0;
    opacity: 1;
  }
}

.panel-arrowcontent {
  border: none !important;
}

.panel-arrow {
  stroke: transparent !important;
}

.proton-zap, toolbarseparator.proton-zap::before {
  border-image: none !important;
}

.panel-footer toolbarseparator, .panel-header + toolbarseparator,
#identity-popup-mainView-panel-header + toolbarseparator,
#permission-popup-mainView-panel-header + toolbarseparator,
#protections-popup-mainView-panel-header-section + toolbarseparator {
  display: none !important;
}

menupopup,
.popup-internal-box,
#PopupAutoComplete > .autocomplete-richlistbox,
.menupopup-arrowscrollbox {
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px !important;
}
@media not (-moz-platform: linux) {
  background: light-dark(rgba(255, 255, 255, .55), rgba(15, 15, 12, .55)) !important;
}
}

panel > .menupopup-arrowscrollbox {
@media not (-moz-platform: linux) {
  background: none !important;
}
}

#tabContextMenu .menu-icon,
#contentAreaContextMenu .menu-icon {
  display: none;
}

menuitem, menu {
  appearance: none !important;
  border-radius: 4px !important;
@media not (-moz-platform: linux) {
  height: 24px !important;
}
@media (-moz-platform: linux) {
&:not(#context-back, #context-forward, #context-reload, #context-stop, #context-bookmarkpage) {
  padding-bottom: 6px !important;
}
}
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: var(--br2) !important;
}
}

menu {
  margin: 2px 0 !important;
}

menupopup > menuitem[selected] {
  background: none !important;
  color: inherit !important;
}

menupopup .bookmark-item {
  margin: 2px 0 !important;
}

menupopup menu:hover:not([disabled=true]),
menupopup menuitem:hover:not([disabled=true]),
menupopup menu[_moz-menuactive]:not([disabled=true]),
menupopup menuitem[_moz-menuactive]:not([disabled=true]),
.protections-popup-footer-button:not([disabled=true]):hover,
#protections-popup-show-report-stack:hover .protections-popup-footer-button,
.protections-popup-category:not([disabled=true]):hover,
.identity-popup-content-blocking-category:not([disabled=true]):hover,
#PlacesToolbar .bookmark-item:is(:hover, [open], [_moz-menuactive]),
#downloadsPanel-mainView .download-state:hover {
  background: var(--button-hover-bgcolor) !important;
  color: inherit !important;
}

toolbarseparator::before {
  border-top: 1px solid var(--bg3) !important;
  margin: 0 8px 0 !important;
  content: "";
  display: block;
  flex: 1;
}

menuseparator::before {
  border-top: 1px solid var(--bg3) !important;
@media not (-moz-platform: windows) {
  margin: 0 8px 0 !important;
}
}

menupopup menuseparator {
  border: none !important;
  margin: 0 !important;
}

toolbarseparator[orient="vertical"] {
  margin: 0 4px !important;
}

.dialogBox {
  backdrop-filter: blur(30px) !important;
  box-shadow: var(--bs1) !important;
  animation-name: panel-grow;
  animation-duration: 250ms;
#window-modal-dialog > .dialogOverlay > &:not(.spotlightBox) {
  margin-top: 80px !important;
}
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
@media (-moz-platform: linux) {
  outline: none !important;
@media not -moz-pref("gwfox.bms") {
  backdrop-filter: blur(0px) !important;
  background: var(--bg2) !important;
}
}
}

.dialogOverlay[topmost="true"],
#window-modal-dialog::backdrop {
  background-color: transparent !important;
}

window[role="dialog"] {
  background-color: var(--bg4) !important;
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
}
}
}

#editBookmarkPanelContent > input,
#editBookmarkPanelContent > hbox > input {
  appearance: none !important;
  background-color: var(--button-hover-bgcolor) !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 12px !important;
  height: 20px !important;
  border-radius: var(--br2) !important;
  margin-top: 2px !important;
  margin-bottom: 2px !important; 
}

#unified-extensions-view .panel-header,
#unified-extensions-view .panel-header + toolbarseparator,
#unified-extensions-view .unified-extensions-item-menu-button.subviewbutton {
  display: none !important;
}

#unified-extensions-view {
  --uei-icon-size: 16px !important;
  width: 22em !important;
}

@media -moz-pref("widget.macos.native-context-menus") {
panel[type="arrow"] {
  --panel-background: transparent !important;
}

menupopup,
.popup-internal-box,
#PopupAutoComplete > .autocomplete-richlistbox,
.menupopup-arrowscrollbox {
  background: transparent !important;
}

:root:not([chromehidden~="toolbar"]):has(#sidebar-main[hidden]) #sidebar-main,
window[role="dialog"], .findbar-container, #statuspanel-label,
#urlbar[breakout][breakout-extend] .urlbar-background {
  background-color: light-dark(rgba(255, 255, 255, .55), rgba(25, 25, 25, .65)) !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
.urlbar-background {
  background-color: light-dark(rgba(255, 255, 255, .55), rgba(25, 25, 25, .65)) !important;
}
}
}

/* misc */

@-moz-document url("chrome://browser/content/browser.xhtml") {
tree {
  background-color: var(--in-content-box-background) !important;
  border: none !important;
}

#editBookmarkPanelContent > input,
#editBookmarkPanelContent > hbox > input {
  height: 35px !important;
  border-radius: var(--br2) !important;
}

:root#main-window {
  min-width: 611px !important;
@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
  min-width: 701px !important;
}
}
@media (-moz-platform: macos) {
  appearance: -moz-sidebar !important;
}
@media not (-moz-platform: linux) {
&:-moz-window-inactive {
  background: var(--bg1) !important;
}
}
@media (-moz-platform: linux) {
@media (prefers-color-scheme: dark) {
  &:not([chromehidden~="toolbar"])::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 0 0 1px rgba(235, 235, 235, .15) !important;
  border-radius: 8px;
  pointer-events: none;
  z-index: 10;
}
}
}
}

@media (max-width: 611px) {
@media not -moz-pref("sidebar.verticalTabs") {
#urlbar-container {
  margin-left: 30px !important;
}
}

#TabsToolbar {
  visibility: collapse;
}

.titlebar-buttonbox-container {
  visibility: visible;
}
}

@media not (-moz-platform: macos) {
@media (not -moz-pref("gwfox.plus")) or -moz-pref("gwfox.plus_sc") {
@media (max-width: 701px) {
@media not -moz-pref("sidebar.verticalTabs") {
#urlbar-container {
  margin-left: 55px !important;
@media (-moz-platform: linux) {
  margin-left: 65px !important;
}
}
}

#TabsToolbar {
  visibility: collapse;
}
}
}
}

:root#main-window[chromehidden~="toolbar"] {
  min-width: unset !important;

.browser-toolbar {
  display: none !important;
}

#tabbrowser-tabbox browser {
  margin: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}
}
}

@-moz-document url("chrome://browser/content/aboutDialog.xhtml") {
#aboutDialogContainer {
  background: #282828 !important;
}

#bottomBox {
  background: #333 !important;
}
}

@-moz-document url("chrome://global/content/megalist/megalist.html") {
* {
  --background-color-canvas: transparent !important;
  --background-color-box: light-dark(rgba(255, 255, 255, .95), rgba(0, 0, 0, .95)) !important;
}

input {--background-color-box: light-dark(rgba(155, 155, 155, .2), rgba(195, 195, 195, .2)) !important;}

.search-container {
  border: none !important;
  outline: none !important;
  background-color: transparent !important;
}

.search-icon {
  display: none;
}

.search {
  margin-inline-start: 0 !important;
  min-height: 32px !important;
}

input[type="radio"] {
  appearance: none !important;
}
}

@-moz-document regexp("chrome://(?!browser\.xhtml).*") {
input[type="checkbox"] {
  appearance: none !important;
  background-color: transparent !important;
  border-radius: 2px !important;
  border: 2px solid rgba(165, 165, 165, .8) !important;
  &:checked {
  appearance: checkbox !important;
}
}

.checkbox-check:not([native]) {
  appearance: none !important;
  background-color: transparent !important;
  border-radius: 2px !important;
  border: 2px solid rgba(165, 165, 165, .8) !important;
  &[checked] {
  appearance: checkbox !important;
}
}
}

treechildren::-moz-tree-row {
  outline: none !important;
  border-radius: 2px !important;
}

treechildren::-moz-tree-row(selected) {
  background: var(--button-hover-bgcolor) !important;
}

.item.selected > .item-title-container {
  background: var(--button-hover-bgcolor) !important;
  color: light-dark(#000, #fff) !important;
  border-radius: 2px !important;
}

treechildren::-moz-tree-image(selected),
treechildren::-moz-tree-twisty(selected),
treechildren::-moz-tree-cell-text(selected) {
  color: light-dark(#000, #fff) !important;
}

.titleIcon {
  background-color: transparent !important;
}

richlistbox {
  border: none !important;
}

#customization-panelWrapper > .panel-arrowcontent,
#customization-container {
@media not (-moz-platform: linux) {
  background-color: transparent !important;
}
}

#customization-panelWrapper > .panel-arrowbox > .panel-arrow[side="top"] {
  display: none !important;
}

#tab-notification-deck {
  position: fixed;
  top: 49px;
  right: 6px;
  z-index: 9;
}

#statuspanel-label {
  border: .5px solid rgba(105, 105, 105, .1) !important;
  border-radius: 5px !important;
  margin: 5px !important;
  background-color: light-dark(rgba(238, 238, 238, .75), rgba(52, 52, 54, .75)) !important;
  backdrop-filter: blur(30px) !important;
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: light-dark(rgba(238, 238, 238, .98), rgba(52, 52, 54, .98)) !important;
  backdrop-filter: blur(0px) !important;
}
}
}

.findbar-container {
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
  box-shadow: var(--bs1) !important;
@media (-moz-platform: windows) {
  box-shadow: 0 15px 25px rgba(0, 0, 0, .25), 0 0 0 .5px rgba(0, 0, 0, .15) !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
}

@media (prefers-color-scheme: dark) {
:root:not([inDOMFullscreen]) {
#tabbrowser-tabbox browser {
  box-shadow: 0 1.5px 6px #0000004d !important;
}
}

@media not (-moz-platform: linux) {
#urlbar[breakout][breakout-extend] .urlbar-background,
.dialogBox {
  outline: 1px solid rgba(235, 235, 235, .2) !important;
  outline-offset: -1.5px !important;
  box-shadow: var(--bs2) !important;
}

.findbar-container {
  outline: 1px solid rgba(235, 235, 235, .2) !important;
  outline-offset: -1.5px !important;
  box-shadow: var(--bs2) !important;
@media (-moz-platform: windows) {
  box-shadow: 0 15px 25px rgba(0, 0, 0, .25), 0 0 0 .5px rgba(0, 0, 0, .5) !important;
}
}
}

@media (-moz-platform: linux) {
#urlbar[breakout][breakout-extend] .urlbar-background,
.dialogBox, .findbar-container {
  border: 1px solid rgba(255, 255, 255, .06) !important;
}
}

#identity-box:hover {
  background: rgba(170, 170, 170, .5) !important;
}

.swipe-nav-icon-circle-outline,
.swipe-nav-icon-arrow {
  fill: #1280fd !important;
}

.swipe-nav-icon-circle {
  fill: #2d2d2d !important;
}

.swipe-nav-icon.will-navigate {
> .swipe-nav-icon-circle-outline,
> .swipe-nav-icon-arrow {
  fill: #2d2d2d !important;
}

> .swipe-nav-icon-circle {
  fill: #1280fd !important;
}
}
}

#ctrlTab-panel {
  --panel-background: transparent !important;
  --panel-shadow: none !important;
  background-color: transparent !important;
}

.ctrlTab-preview-inner {
  border-radius: 16px !important;
  box-shadow: 0 15px 25px rgba(0, 0, 0, .35) !important;
  background-color: rgba(0, 0, 0, .85) !important;
}

#ctrlTab-showAll {
  border-radius: 16px !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, .35) !important;
  background-color: rgba(0, 0, 0, .85) !important;
  margin-top: 28px !important;
}

.ctrlTab-canvas {
  border-radius: 16px !important;
  box-shadow: none !important;
  margin-top: -8px !important;
  margin-left: -8px !important;
  margin-right: -8px !important;
> img,
> canvas {
  border-top-left-radius: 14px !important;
  border-top-right-radius: 14px !important;
}
}

findbar {
  position: absolute !important;
  top: 3px;
  right: -8px;
  width: calc(100% - 15px) !important;
  height: 90px !important;
  border: none !important;
  background: none !important;
  flex-direction: row-reverse;
  white-space: nowrap;
  pointer-events: none;
  animation-name: slide-in;
  animation-duration: 350ms;
&:is([hidden]) {
  animation-name: slide-out;
}
@media (min-width: 610px) and (max-width: 796px) {
.findbar-highlight, .findbar-match-diacritics,
.findbar-entire-word, .findbar-case-sensitive {
  display: none;
}
}
}

findbar::after {
  content: "";
  display: flex;
  flex-grow: 100;
}

.findbar-closebutton {
  position: fixed;
  right: 18px;
  margin-top: 7px !important;
  background: none !important;
  pointer-events: auto;
  z-index: 1;
}

.findbar-closebutton > image {
  padding: 5px;
  max-height: 24px !important;
  max-width: 24px !important;
}

.findbar-closebutton:hover > image {
  background: var(--button-hover-bgcolor);
  border-radius: 5px;
}

.findbar-closebutton:active > image {
  background: var(--button-active-bgcolor);
}

.findbar-container {
  height: 42px !important;
  margin-right: 25px;
  pointer-events: auto;
  overflow-inline: visible !important;
  flex-direction: row-reverse;
  border-radius: var(--br2) !important;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
}

.findbar-container > hbox {
  margin-right: 30px;
}

.findbar-textbox, .findbar-textbox:-moz-window-inactive {
  background: none !important;
  width: 100px !important;
  border: none !important;
}

.findbar-textbox {
  outline-style: solid !important;
  outline-color: transparent !important;
  outline-width: 5px !important;
}

.findbar-textbox[focused],
.findbar-textbox:focus {
  outline-color: var(--outline-color) !important;
  outline-width: 3px !important;
  transition: all .3s cubic-bezier(1, 0, 0, 1) !important;
  box-shadow: none !important;
}

xul|search-textbox {
  appearance: none !important;
  border-bottom: 1px solid rgba(185, 185, 185, .1) !important;
  border-radius: var(--br1) !important;
  height: 28px !important;
  max-height: 28px !important;
  padding: 6px !important;
  background-color: light-dark(rgba(102, 105, 108, .1), rgba(165, 165, 165, .1)) !important;
}

xul|search-textbox[focused] {
  outline: 3px solid var(--outline-color) !important;
  outline-offset: -1px;
  transition: outline 100ms ease-out;
}

input[type="search"] {
  border: none !important;
  border-bottom: 1px solid rgba(185, 185, 185, .1) !important;
  border-radius: var(--br1) !important;
  height: 28px !important;
  max-height: 28px !important;
  background-color: light-dark(rgba(102, 105, 108, .1), rgba(165, 165, 165, .1)) !important;
}

#searchbar input[type="search"] {
  background: none !important;
  border: none !important;
  outline: none !important;
}

#searchbar, 
xul|search-textbox,
input[type="search"],
[type="text"] {
  outline-style: solid !important;
  outline-color: transparent !important;
  outline-width: 18px !important;
}

#searchbar:focus-within,
xul|search-textbox[focused],
input[type="search"]:focus-within,
[type="text"]:focus-visible {
  outline-color: var(--outline-color) !important;
  outline-width: 3px !important;
  outline-offset: -1px !important;
  transition: all .3s cubic-bezier(.8, 0, 0, .8) !important;
}

@-moz-document url("chrome://browser/content/sidebar/sidebar-history.html"), url("chrome://browser/content/sidebar/sidebar-syncedtabs.html") {
input {
  appearance: none !important;
  min-height: 32px !important;
} 
}

@-moz-document url("chrome://browser/content/sidebar/sidebar-customize.html") {
[data-l10n-id="sidebar-show-on-the-right"] {
  display: none !important;
}
}

@-moz-document url("chrome://browser/content/genai/chat.html") {
#multi-stage-message-root {
  background-color: transparent !important;
  --background-color-canvas: transparent !important;

.screen {
  border-radius: 0 !important;
  outline: none !important;
}
}

#header, #summarize-btn-container {
  border: none !important;
}

body {
  background: light-dark(#fff, #191919);
  border: 1px solid var(--bg3);
  border-radius: var(--br2);
}
}

.sidebar-panel {
  background-color: transparent !important;
}

#sidebar-main {
  max-width: 221px !important;
}

#sidebar-box:-moz-window-inactive {
  opacity: .5 !important;
}

.sidebar-splitter {
@media -moz-pref("sidebar.revamp") or (not (-moz-platform: linux)) {
  width: var(--splitter-width) !important;
}
}

:root[sidebar-expand-on-hover] {
#sidebar-main {
  background-color: transparent !important;
  background-image: none !important;
}

#tabbrowser-tabbox {
  clip-path: inset(-8px 0 0 -8px);
  transition: clip-path .25s;
}

:has(#tabbrowser-tabs[expanded]) {
#tabbrowser-tabbox {
  clip-path: inset(-8px 0 0 190px);
@media (-moz-platform: linux) {
  clip-path: inset(-8px 0 0 184px);
}
}

#vertical-tabs-newtab-button {
  margin-bottom: 10px !important;
}

@media (-moz-platform: windows) {
#tabbrowser-tabs {
  margin-inline-start: .5px !important;
}

#tabs-newtab-button,
#vertical-tabs-newtab-button {
  margin-inline-start: 9px !important;
}
}
}

:has(#sidebar-box:not([hidden])) {
#tabbrowser-tabbox {
  clip-path: none !important;
}
}

#sidebar-box {
&:not([sidebar-positionend]) {
&[sidebar-panel-open][sidebar-launcher-hovered][sidebar-launcher-expanded],
&[sidebar-ongoing-animations][sidebar-panel-open] {
  margin-inline-start: 240px !important;
}
}
}
}

@media (-moz-platform: windows) {
:root:-moz-window-inactive {--sidebar-background-color: transparent !important;}

richlistitem[selected] {
  background: none !important;
}

#downloadsListBox {
  overflow-x: hidden;
  border: 0 !important;
}

toolbarbutton:-moz-window-inactive {
  opacity: 50% !important;
}

#editBookmarkPanel .expander-up,
#editBookmarkPanel .expander-down {
  border: none !important;
}

menupopup, panel[type="arrow"] {
  --panel-background: light-dark(rgba(255, 255, 255, .75), rgba(15, 15, 12, .75)) !important;
  --panel-shadow-margin: 0px !important;
}

#context-navigation .menu-icon {
  display: unset;
}

.findbar-container {
  box-shadow: 0 15px 25px rgba(0, 0, 0, .25), 0 0 0 1px rgba(0, 0, 0, .17) !important;
}

@media (prefers-color-scheme: dark) {
&:not(:-moz-window-inactive) {::selection { background: #416189 }}
* {
  --organizer-pane-background: #2d2d2d !important;
  --organizer-toolbar-background: #333 !important;
  --organizer-content-background: #333 !important;
  --organizer-hover-background: #2e2e2f !important;
  --organizer-selected-background: #2e2e2f !important;
}

#urlbar[breakout][breakout-extend] .urlbar-background,
.findbar-container, .dialogBox {
  outline: none !important;
}

.findbar-container {
  box-shadow: 0 15px 25px rgba(0, 0, 0, .25), 0 0 0 1px rgba(255, 255, 255, .15) !important;
}

menupopup, panel[type="arrow"] {
  --panel-border-color: rgba(255, 255, 255, .1) !important;
  --arrowpanel-border-color: rgba(255, 255, 255, .1) !important;
}

.panel-arrowcontent {
  border: 1px solid rgba(255, 255, 255, .1) !important;
}

treecol {
  background-color: #333 !important;
}

richlistitem {
  color: #fff !important;
}
}
}

@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.atbc") {
#browser, #navigator-toolbox {
  background: var(--bg1) !important;
}
}

#context-navigation .menu-icon {
  display: unset;
}

#editBookmarkPanel .expander-up,
#editBookmarkPanel .expander-down {
  border: none !important;
}

menupopup, panel[type="arrow"] {
  --panel-shadow: var(--bs1) !important;
  --panel-shadow-margin: 18px !important;
  --panel-background: var(--bg2) !important;
  --panel-border-color: transparent !important;
  --arrowpanel-border-color: transparent !important;
@media -moz-pref("gwfox.bms") {
  --panel-background: light-dark(rgba(255, 255, 255, .98), rgba(25, 25, 25, .98)) !important;
}
@media (prefers-color-scheme: dark) {
  --panel-border-color: rgba(255, 255, 255, .06) !important;
  --arrowpanel-border-color: rgba(255, 255, 255, .06) !important;
}
}

menupopup {
  margin: -18px -18px -5px !important;
}

menuitem:is([type="checkbox"], [checked="true"]) > .menu-icon, menuitem[type="radio"] > .menu-icon {
  appearance: none !important;
}

menuitem[type="checkbox"][checked="true"] > .menu-icon {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='context-stroke none' stroke-width='0.5' d='M6.52,12.5a1,1,0,0,1-.705-.291l-3.52-3.5a1,1,0,1,1,1.41-1.418l2.812,2.8,5.774-5.793a1,1,0,0,1,1.416,1.412l-6.479,6.5A1,1,0,0,1,6.52,12.5Z'/%3E%3C/svg%3E") !important;
  -moz-context-properties: fill;
  fill: currentColor;
}

menuitem[type="radio"][checked="true"] > .menu-icon {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='4'/%3E%3C/svg%3E") !important;
  -moz-context-properties: fill;
  fill: #fff;
}

menuitem[type="checkbox"]:not([checked="true"]) .menu-icon {
  visibility: hidden !important;
}

menuitem[type="checkbox"][checked="true"] .menu-icon {
  background-color: transparent;
  border: none;
}

menuitem[type="radio"] .menu-icon {
  border-radius: 50%;
  border: 2px solid rgba(165, 165, 165, .8);
}

menuitem[type="radio"][checked="true"] .menu-icon {
  background-color: light-dark(#007aff, #1280fd);
  border: none;
}

menuitem[type="radio"][checked="true"]:hover .menu-icon {
  background-color: light-dark(#0075dd, #006bdc);
}

menuitem[type="radio"][checked="true"]:active .menu-icon {
  background-color: light-dark(#005ebb, #0055bc);
}

menuitem[type="radio"][disabled="true"] .menu-icon {
  opacity: .5;
}

#customization-container {
  background: var(--bg1) !important;
}

@media -moz-pref("sidebar.verticalTabs") {
@media not -moz-pref("gwfox.plus") {
.titlebar-buttonbox-container {
  padding-bottom: 2px;
}
}
}
}

/* icons */

#back-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 4.2,8.37 6.3,5.92 a 0.72,0.68 0 0 0 1.02,-0.96 L 5.83,7.99 11.52,2.65 A 0.72,0.68 0 0 0 10.5,1.69 L 4.2,7.61 Z'/%3E%3C/svg%3E") !important;
@media -moz-pref("sidebar.verticalTabs") {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.375 8 3.048 8l4.308-4.308a.626.626 0 0 0-.885-.885L1 8.281l0 .689 5.472 5.473a.623.623 0 0 0 .884 0 .628.628 0 0 0 0-.885L3.048 9.25l11.327 0a.625.625 0 0 0 0-1.25z'/%3E%3C/svg%3E") !important;
}
}

#forward-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 11.72,8.37 5.42,14.29 A 0.72,0.68 0 0 1 4.4,13.33 L 10.09,7.99 4.4,2.65 a 0.72,0.68 0 0 1 1.02,-0.96 l 6.3,5.92 z'/%3E%3C/svg%3E") !important;
@media -moz-pref("sidebar.verticalTabs") {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 1.62 8 11.33 0-4.31-4.31 a .626.63 0 0 1 .885-0.89 L 15 8.28 l 0 .689-5.47 5.47 a .623.62 0 0 1-0.88 0 .628.63 0 0 1 0-0.89 l 4.31-4.31-11.33 0 a .625.62 0 0 1 0-1.25 z'/%3E%3C/svg%3E") !important;
}
}

#reload-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 10.51,6.14 h 3.71 L 14.5,5.86 V 2.16 a 0.46,0.46 0 0 0 -0.79,-0.33 L 12.35,3.18 A 6.45,6.45 0 0 0 8,1.5 C 4.42,1.5 1.5,4.42 1.5,8 1.5,11.58 4.42,14.5 8,14.5 A 6.47,6.47 0 0 0 14.47,8.63 0.58,0.58 0 0 0 13.95,8 0.59,0.59 0 0 0 13.32,8.52 5.32,5.32 0 0 1 8,13.34 c -2.94,0 -5.34,-2.39 -5.34,-5.34 0,-2.94 2.39,-5.34 5.34,-5.34 a 5.3,5.3 0 0 1 3.53,1.34 l -1.35,1.35 a 0.46,0.46 0 0 0 0.33,0.79 z'/%3E%3C/svg%3E") !important;
}

#stop-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 9.02,7.79 13.33,3.48 A 0.57,0.57 0 0 0 12.52,2.67 L 8.22,6.97 H 7.78 L 3.48,2.67 A 0.57,0.57 0 1 0 2.67,3.48 L 6.96,7.77 V 8.22 L 2.67,12.52 a 0.57,0.57 0 0 0 0.81,0.81 L 7.78,9.04 h 0.45 l 4.3,4.3 a 0.57,0.57 0 0 0 0.81,0 0.57,0.57 0 0 0 0,-0.81 L 9.02,8.2 Z'/%3E%3C/svg%3E") !important;
}

#new-tab-button, #tabs-newtab-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 8.47,13.85 H 7.75 c -0.2,0 -0.36,-0.19 -0.36,-0.42 V 2.54 C 7.39,2.31 7.55,2.12 7.75,2.12 H 8.47 c 0.2,0 0.36,0.19 0.36,0.42 v 10.89 c 0,0.23 -0.16,0.42 -0.36,0.42 M 13.97,8.53 c 0,0.21 -0.19,0.38 -0.43,0.38 H 2.47 C 2.23,8.91 2.04,8.74 2.04,8.53 V 7.77 c 0,-0.21 0.19,-0.38 0.43,-0.38 h 11.08 c 0.24,0 0.43,0.17 0.43,0.38 z'/%3E%3C/svg%3E") !important;
}

#unified-extensions-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 12.5,15 h -9 A 1.5,1.52 0 0 1 2,13.48 v -2.7 a 0.69,0.7 0 0 1 0.69,-0.7 h 1.62 c 0.64,0 1.15,-0.53 1.15,-1.17 0,-0.65 -0.52,-1.17 -1.15,-1.17 H 2.69 A 0.69,0.7 0 0 1 2,7.03 V 5.27 C 2,4.43 2.67,3.75 3.5,3.75 h 2.19 v -1.27 c 0,-1.23 0.87,-2.34 2.07,-2.47 A 2.31,2.35 0 0 1 10.31,2.34 V 3.75 H 12.5 c 0.83,0 1.5,0.68 1.5,1.52 V 13.48 C 14,14.32 13.33,15 12.5,15 Z M 3.15,11.25 v 2.02 l 0.55,0.56 h 8.58 l 0.55,-0.56 V 5.48 L 12.29,4.92 H 9.85 A 0.69,0.7 0 0 1 9.15,4.22 V 2.34 C 9.15,1.7 8.64,1.17 8,1.17 c -0.64,0 -1.15,0.53 -1.15,1.17 V 4.22 A 0.69,0.7 0 0 1 6.15,4.92 H 3.62 L 3.15,5.48 V 6.56 H 4.17 c 1.21,0 2.31,0.88 2.43,2.1 A 2.31,2.35 0 0 1 4.31,11.25 Z'/%3E%3C/svg%3E") !important;
}

#sidebar-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-rule='evenodd' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 5.5,5.63 A 0.5,0.46 0 0 0 5,5.17 H 3 A 0.5,0.46 0 0 0 3,6.09 H 5 A 0.5,0.46 0 0 0 5.5,5.63 Z m 0,2.28 A 0.5,0.46 0 0 0 5,7.45 H 3 A 0.5,0.46 0 0 0 3,8.37 H 5 A 0.5,0.46 0 0 0 5.5,7.91 Z m 0,2.28 A 0.5,0.46 0 0 0 5,9.74 H 3 A 0.5,0.46 0 0 0 3,10.65 H 5 A 0.5,0.46 0 0 0 5.5,10.19 Z M 16,12.4 V 3.65 A 2,2.12 0 0 0 14,1.52 H 2 A 2,2.12 0 0 0 0,3.65 V 12.4 A 2,2.12 0 0 0 2,14.53 h 12 a 2,2.12 0 0 0 2,-2.12 z M 1.25,12.56 V 3.49 l 0.6,-0.64 h 4.9 V 13.2 H 1.85 Z M 8,13.2 h 6.15 l 0.6,-0.64 V 3.49 L 14.15,2.85 H 8 Z'/%3E%3C/svg%3E") !important;
}

#alltabs-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' stroke='context-fill' stroke-width='0.264' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 4.06,12.01 v -0.91 H 3.08 c -0.54,0 -0.98,-0.4 -0.98,-0.91 V 2.94 c 0,-0.5 0.44,-0.91 0.98,-0.91 h 6.86 c 0.54,0 0.98,0.4 0.98,0.91 v 0.91 h 0.98 V 2.94 c 0,-1 -0.87,-1.81 -1.96,-1.81 H 3.08 c -1.09,0 -1.96,0.81 -1.96,1.81 v 7.26 c 0,1 0.87,1.81 1.96,1.81 z M 6.06,3.99 c -1.09,0 -1.96,0.81 -1.96,1.81 v 7.26 c 0,1 0.87,1.81 1.96,1.81 h 6.86 c 1.09,0 1.96,-0.81 1.96,-1.81 V 5.81 c 0,-1 -0.87,-1.81 -1.96,-1.81 z m 0,0.91 h 6.86 c 0.54,0 0.98,0.4 0.98,0.91 v 7.26 c 0,0.5 -0.44,0.91 -0.98,0.91 H 6.06 c -0.54,0 -0.98,-0.4 -0.98,-0.91 V 5.81 c 0,-0.5 0.44,-0.91 0.98,-0.91 z'/%3E%3C/svg%3E") !important;
}

#PanelUI-menu-button {
  list-style-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 5,5 h 14 c 1.33,0 1.29,1.96 -0.04,1.96 H 5 C 3.67,6.96 3.67,5 5,5 m 14,6 H 5 c -1.33,0 -1.33,2 0,2 h 14 c 1.33,0 1.33,-2 0,-2 m 0,8 H 5 C 3.67,19 3.67,17 5,17 H 19 C 20.33,17 20.33,19 19,19'/%3E%3C/svg%3E") !important;
}

#sanitizeEverythingWarningIcon {
  list-style-image: url("chrome://global/skin/icons/warning.svg") !important;
  -moz-context-properties: fill;
  fill: #f9c63b;
  width: 48px !important;
  height: 48px !important;
}

#tracking-protection-icon {
  list-style-image: url(chrome://browser/skin/tracking-protection.svg);
}

.tab-icon-image[src="chrome://branding/content/icon32.png"],
.tab-icon-image[src="chrome://browser/skin/privatebrowsing/favicon.svg"] {
  content: url("chrome://devtools/skin/images/browsers/firefox.svg");
}

#identity-box[pageproxystate="valid"].chromeUI #identity-icon {
  list-style-image: url("chrome://devtools/skin/images/browsers/firefox.svg") !important;
}

.textbox-search-sign {
  display: inherit !important;
  width: 16px !important;
  height: 16px !important;
  opacity: .8 !important;
  -moz-context-properties: fill;
  fill: currentColor;
}

.searchmode-switcher-icon {
  fill: light-dark(#525252, #c9c9cb) !important;
&:not([style*=".svg"]) {
  content: url("chrome://global/skin/icons/search-glass.svg");
}
}

.titlebar-buttonbox-container {
--titlebar-min: url("data:image/svg+xml,%3Csvg width='12' height='12' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 9.25,5.3 a 0.75,0.75 0 0 1 0,1.5 h -6.5 a 0.75,0.75 0 0 1 0,-1.5 z'/%3E%3C/svg%3E");
--titlebar-max: url("data:image/svg+xml,%3Csvg width='12' height='12' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m9 4.5 l0 3.5 a1 1 0 0 1 -1 1 l-3.5 0 m-1.5 -1.5 l0 -3.5 a1 1 0 0 1 1 -1 l3.5 0 z'/%3E%3C/svg%3E");
--titlebar-restore: url("data:image/svg+xml,%3Csvg width='12' height='12' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m10.5 6 l-3.5 0 a1 1 0 0 0 -1 1 l0 3.5 m0 -9 l0 3.5 a1 1 0 0 1 -1 1 l-3.5 0 z'/%3E%3C/svg%3E");
--titlebar-close: url("data:image/svg+xml,%3Csvg width='12' height='12' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 5.95,5.01 4.1,3.27 C 3.42,2.62 2.63,3.6 3.3,4.26 L 5.05,6 3.3,7.74 C 2.65,8.42 3.42,9.37 4.1,8.73 L 5.95,6.99 7.8,8.73 C 8.48,9.38 9.38,8.38 8.7,7.74 L 6.85,6 8.7,4.16 C 9.35,3.48 8.48,2.63 7.8,3.27 Z'/%3E%3C/svg%3E");
}

/* verticalTabs */

@media -moz-pref("sidebar.revamp") {
#sidebar {
  box-shadow: none !important;
  background-color: var(--button-bgcolor) !important;
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px !important;
}
}

#sidebar-main {
  -moz-window-dragging: drag;
}

#sidebar-box {
  -moz-window-dragging: no-drag;
  max-width: 280px !important;
  min-width: 280px !important;
&[sidebarcommand="viewGenaiChatSidebar"] {
  max-width: 400px !important;
  min-width: 400px !important;
}
}

.sidebar-splitter {
  cursor: default !important;
}

.actions-list,
.tools-and-extensions {
  -moz-window-dragging: no-drag;
&:-moz-window-inactive {
  opacity: .5 !important;
}
}

span > img:is([src="chrome://browser/skin/history.svg"], [src="chrome://browser/skin/synced-tabs.svg"], [src="chrome://browser/skin/bookmark-hollow.svg"], [src="chrome://global/skin/icons/settings.svg"], [src="chrome://global/skin/icons/highlights.svg"], [src="chrome://browser/skin/login.svg"], [src="chrome://browser/content/genai/assets/brands/chatgpt.svg"]) {
  fill: light-dark(#525252, #c9c9cb) !important;
}

span:active > img:is([src="chrome://browser/skin/history.svg"], [src="chrome://browser/skin/synced-tabs.svg"], [src="chrome://browser/skin/bookmark-hollow.svg"], [src="chrome://global/skin/icons/settings.svg"], [src="chrome://global/skin/icons/highlights.svg"], [src="chrome://browser/skin/login.svg"], [src="chrome://browser/content/genai/assets/brands/chatgpt.svg"]) {
  fill: light-dark(#2d2d2d, #ececec) !important;
}

span > img:is([src="chrome://browser/content/genai/assets/brands/claude.svg"], [src="chrome://browser/content/genai/assets/brands/chatgpt.svg"], [src="chrome://browser/content/genai/assets/brands/copilot.svg"], [src="chrome://browser/content/genai/assets/brands/gemini.svg"], [src="chrome://browser/content/genai/assets/brands/huggingchat.svg"], [src="chrome://browser/content/genai/assets/brands/lechat.svg"]) {
  content: url("chrome://global/skin/icons/highlights.svg");
  fill: light-dark(#525252, #c9c9cb) !important;
}

span:active > img:is([src="chrome://browser/content/genai/assets/brands/claude.svg"], [src="chrome://browser/content/genai/assets/brands/chatgpt.svg"], [src="chrome://browser/content/genai/assets/brands/copilot.svg"], [src="chrome://browser/content/genai/assets/brands/gemini.svg"], [src="chrome://browser/content/genai/assets/brands/huggingchat.svg"], [src="chrome://browser/content/genai/assets/brands/lechat.svg"]) {
  content: url("chrome://global/skin/icons/highlights.svg");
  fill: light-dark(#2d2d2d, #ececec) !important;
}
}

@media -moz-pref("sidebar.verticalTabs") {
@media not (-moz-platform: linux) {
.titlebar-buttonbox-container {
  margin-top: -2px !important;
}
}

.tools-and-extensions {
  margin-bottom: 4px !important;
}

.extensions, .customize-extensions-heading {
  display: none !important;
}

.actions-list > moz-button[view=viewCustomizeSidebar] {
  display: var(--mtb) !important;
}

.actions-list {
  display: var(--dp, inherit) !important;
&:has(.expanded-button) {
  display: flex !important;
}
&[orientation="horizontal"] {
  justify-content: center !important;
  max-width: calc(100% - 20px) !important;
}
}

.buttons-wrapper {
  justify-content: center !important;
}

.more-tools-button,
.tools-and-extensions > moz-button[extension] {
  display: var(--mtb) !important;
}

#sidebar-tools-and-extensions-splitter {
  display: var(--dp) !important;
  width: 10px !important;
  margin-inline: auto !important;
  margin-block-start: 15px !important;
  border-top: none !important;
  border-color: transparent !important;
  background-color: transparent !important;
.wrapper:hover &:not(:has(~ .actions-list:hover)) {
  background-color: var(--panel-separator-color) !important;
  opacity: .5;
  transition: .25s !important;
  -moz-window-dragging: no-drag;
&:hover {
  background-color: var(--outline-color) !important;
  width: calc(100% - 25px) !important;
  opacity: 1;
  transition: .25s !important;
}
}
}

#vertical-tabs-newtab-button {
  margin-bottom: 6px !important;
}

#vertical-pinned-tabs-splitter {
  margin-block-start: 4px !important;
  width: 10px !important;
  margin-inline: auto !important;
  border-top-color: transparent !important;
#vertical-tabs:hover & {
  background-color: var(--panel-separator-color) !important;
  opacity: .5;
  transition: .25s !important;
  -moz-window-dragging: no-drag;
&:hover {
  background-color: var(--outline-color) !important;
  width: calc(100% - 25px) !important;
  opacity: 1;
  transition: .25s !important;
}
}
}

.tab-background {
  border-radius: var(--br2) !important;
}

.tabbrowser-tab:not([selected], [pinned], :hover) .tab-background {
  background: transparent !important;
tab-group > tab-split-view-wrapper & {
&:not([hasactivetab]) {
  background: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 14%, transparent) !important;
}
}
}

.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
  margin: 6px 0 6px 0 !important;
}

.tab-group-label {
  display: flex !important;
  align-items: center;
  font-weight: normal !important;
  font-size: 13px !important;
  color: light-dark(var(--tab-group-color), var(--tab-group-color-invert)) !important;
  opacity: .9;
  outline: none !important;
  min-height: var(--tab-min-height) !important;
  margin-block: 0 !important;
  padding-block: 0 !important;
  margin-left: 1px !important;
  margin-right: 10px !important;
  margin-bottom: 1px !important;
  padding-left: 33px !important;
  border-radius: var(--br2) !important;
  width: 100% !important;
  background-color: color-mix(in srgb, light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 30%, transparent) !important;
  background-image: url("chrome://global/skin/icons/arrow-down-12.svg");
  background-repeat: no-repeat;
  background-position: left 9px bottom 11px;
  -moz-context-properties: fill;
  fill: currentColor;

tab-group[collapsed] > .tab-group-label-container & {
  background-image: url("chrome://global/skin/icons/folder.svg");
  background-position: left 9px bottom 7.5px;
[hasactivetab] & {
  background-image: url("chrome://global/skin/icons/folder.svg"), url("chrome://global/skin/icons/more.svg");
  background-size: auto, 10px 16px;
  background-position: left 9px bottom 7.5px, left 12.5px bottom 7.5px;
}
}

&::first-letter {
  font: unset !important;
}
}

.tab-group-label-container {
#tabbrowser-tabs & {
  margin-block-start: 4px !important;
  margin-block-end: 4px !important;
tab-group:not([collapsed]) > & {
  padding-block-end: 0 !important;
}
}

#tabbrowser-tabs tab-group:not([collapsed]) > &::after {
  width: 0 !important;
}
}

#tabbrowser-tabs {
tab-group > .tabbrowser-tab {
  max-height: 42px;
@media -moz-pref("sidebar.visibility", "expand-on-hover") {
  transition: max-height .25s !important;
}
[collapsed] & {
&:not([selected], [busy]) {
  display: block !important;
  padding-block: 0 !important;
  max-height: 0;
}
}
}
tab-group > .tabbrowser-tab,
&[movingtab][movingtab-addToGroup]:not([movingtab-group],[movingtab-ungroup]) .tabbrowser-tab:is(:active,[multiselected]) {
  margin-inline-start: 0 !important;
}
}

#tabs-newtab-button,
#vertical-tabs-newtab-button {
  font-size: 13px !important;
}

#urlbar {
  backdrop-filter: blur(0px) !important;
}

#urlbar[breakout][breakout-extend] {
  left: 34vw !important;
  min-height: 50px !important;
  border-radius: var(--br2) !important;
  backdrop-filter: blur(30px) !important;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  backdrop-filter: blur(0px) !important;
}
}
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 34vw !important;
  backdrop-filter: blur(30px) !important;
  border-radius: var(--br2) !important;
  min-height: 50px !important;
@media (-moz-mac-tahoe-theme) or (-moz-gtk-theme-family: adwaita) or (-moz-gtk-theme-family: yaru) {
  border-radius: 12px !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  backdrop-filter: blur(0px) !important;
}
}
}
}

:has(#tabbrowser-tabs[expanded]) {
  --mtb: none;
  --dp: flex;

#sidebar-main {
  min-width: 240px !important;
}

@media (min-width: 610px) and (max-width: 1036px) {
.findbar-highlight, .findbar-match-diacritics,
.findbar-entire-word, .findbar-case-sensitive {
  display: none;
}
}
}

:has(#tabbrowser-tabs:not([expanded])) {
.tab-group-label {
  font-size: 0 !important;
  margin-left: 10px !important;
  padding: 0 !important;
  width: 32px !important;
  min-height: 32px !important;
  max-width: 32px !important;
  background-position: center;
}

.tab-close-button {
  background-image: none !important;
  box-shadow: none !important;
  top: 0 !important;
  inset-inline-start: 7px !important;
@media (-moz-platform: windows) {
  inset-inline-start: 8px !important;
}
@media (-moz-platform: linux) {
  inset-inline-start: 10px !important;
}
}

#urlbar[breakout][breakout-extend] {
  left: 29vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 29vw !important;
}
}

@media (min-width: 610px) and (max-width: 876px) {
.findbar-highlight, .findbar-match-diacritics,
.findbar-entire-word, .findbar-case-sensitive {
  display: none;
}
}
}

:has(#sidebar-main[hidden]) {
#sidebar-box {
  margin-left: 2px !important;
  margin-right: -6px !important;
  margin-bottom: 2px !important;
}
}

@media not -moz-pref("gwfox.plus") {
@media -moz-pref("sidebar.visibility", "expand-on-hover") {
tab-group {
.tab-group-label {
  background-position: left 10px bottom 10px;
tab-group[collapsed] > .tab-group-label-container & {
  background-position: left 8px bottom 8px;
}
}
}
}
}

@media (-moz-platform: linux) {
#tabbrowser-tabs:not([expanded]) .tab-group-label {
  margin-left: 13px !important;
}
}

@media (-moz-platform: windows) {
:has(#tabbrowser-tabs[expanded]) {
.tab-stack {
  margin: 0 .5px !important;
}
}

.tab-group-label {
  margin-left: 0 !important;
}
}

@media -moz-pref("sidebar.visibility", "expand-on-hover") {
:has(#tabbrowser-tabs[expanded], #tabbrowser-tabs:not([expanded])) {
#urlbar[breakout][breakout-extend] {
  left: 29vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 29vw !important;
}
}
}
}

:has(#sidebar-main[hidden]) {
#urlbar[breakout][breakout-extend] {
  left: 27.5vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 27.5vw !important;
}
}
}

@media not -moz-pref("gwfox.plus") {
:has(#tabbrowser-tabs:not([expanded])) {
tab-split-view-wrapper {
.tab-background {
  margin-inline-start: 9px !important;
@media (-moz-platform: linux) {
  margin-inline-start: 12px !important;
}
}
.tab-close-button {
  margin-inline-start: 6px !important;
@media (-moz-platform: linux) {
  margin-inline-start: 9px !important;
}
}
}
}
}
}

/* tweak */

@media -moz-pref("gwfox.plus") {
:root[sidebar-expand-on-hover] {
@media not -moz-pref("gwfox.plus_sc") {
.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: unset;
}

.tabbrowser-tab:hover:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 10.5px;
}
}

.tabbrowser-tab[pinned] .tab-icon-image {
  margin-left: 6px;
}

#tabbrowser-tabs[orient="vertical"]:not([expanded]) .tab-close-button, 
.tabbrowser-tab[pinned] .tab-close-button {
  display: none !important;
}

#tabbrowser-tabbox {
  clip-path: inset(-50px 0 0 -8px);
}

:has(#tabbrowser-tabs[expanded]) {
#tabbrowser-tabbox {
  clip-path: inset(-50px 0 0 158px);
@media (-moz-platform: linux) {
  margin-left: 80.5px !important;
}
}
}
}

@media not -moz-pref("gwfox.plus_sc") {
#tabbrowser-tabs:is([orient="horizontal"], [expanded]):not([movingtab]) .tab-icon-stack {
.tabbrowser-tab:hover .tab-content > &:not([pinned]) {
  display: none;
}
}

.tabbrowser-tab .tab-close-button {
  margin-left: -5px;
  order: 1;
}

.tabbrowser-tab .tab-label-container {
  margin-left: 5px;
  order: 3;
}

#tabbrowser-tabs[orient="vertical"] .tab-content {
:root:not([uidensity="compact"], [sidebar-expand-on-hover]):has([sidebar-shown]) &[pinned] {
  padding: 0 17px !important;
}
}

.tabbrowser-tab:hover .tab-throbber,
.tabbrowser-tab:not([pinned]):hover .tab-icon-image,
.tabbrowser-tab[selected]:not(:hover) .tab-close-button {
  display: none !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-label-container {
  margin-left: 11.5px;
}

.tab-audio-button {
  order: 10;
  margin-right: -5px !important;
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 8.5px;
}

.tabbrowser-tab:hover:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 11.5px;
}

#tabbrowser-tabs[movingtab] {
.tab-close-button {
  display: none !important;
}

.tab-icon-image {
  display: block !important;
  opacity: 1 !important;
}

.tab-label-container {
  margin-left: 5px;
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 8.5px;
}

&[orient="vertical"] {
.tab-label-container {
  margin-left: 1px;
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 6.5px;
}
}

@media -moz-pref("sidebar.visibility", "expand-on-hover") {
.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 0 !important;
}
}
}
}

@media not -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  position: fixed;
  width: calc(100% - 16px);
  margin: 0 8px 8px 8px !important;
  height: 48px !important;
  z-index: 9;
  bottom: -32px;
  opacity: 0;
  transition: .25s !important;
  transition-delay: .35s !important;
  padding-bottom: 0 !important;
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
  border-top: 1px solid rgba(105, 105, 105, .15) !important;
  border-bottom-left-radius: 7px !important;
  border-bottom-right-radius: 7px !important;
  overflow: initial !important;
&:-moz-window-inactive {
  background-color: var(--bg1) !important;
}
@media (-moz-mac-tahoe-theme) {
  border-bottom-left-radius: 11px !important;
  border-bottom-right-radius: 11px !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
&::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -10px;
  height: 10px;
}
}

:has(#PersonalToolbar:hover, #PersonalToolbar .bookmark-item[open]) {
#PersonalToolbar {
  bottom: 0;
  opacity: 1;
  transition: .35s !important;
}
}
}

toolbarbutton.bookmark-item:not(.subviewbutton) {
  margin: 8px 0 !important;
}

#personal-toolbar-empty-description,
toolbarbutton.bookmark-item:not(.subviewbutton) {
  padding: 4px 7px !important;
}

:root[customizing] {
#PersonalToolbar {
  display: none !important;
}
}

@media not -moz-pref("gwfox.plus_tb") {
@media -moz-pref("widget.macos.native-context-menus") {
#PersonalToolbar {
  background-color: light-dark(rgba(255, 255, 255, .55), rgba(25, 25, 25, .65)) !important;
}
}
}

@media not -moz-pref("sidebar.verticalTabs") {
@media -moz-pref("sidebar.revamp") {
:has(#sidebar-main:not([hidden])) {
#PersonalToolbar {
  margin-left: 49.5px !important;
  width: calc(100% - 57.5px);
@media (-moz-platform: windows) {
  margin-left: 51px !important;
  width: calc(100% - 59px);
}
@media (-moz-platform: linux) {
  margin-left: 55.5px !important;
  width: calc(100% - 63.5px);
}
}
}

:has(#sidebar-box:not([hidden])) {
#PersonalToolbar {
  margin-left: 338px !important;
  width: calc(100% - 346px);
@media (-moz-platform: windows) {
  margin-left: 339px !important;
  width: calc(100% - 347px);
}
@media (-moz-platform: linux) {
  margin-left: 345px !important;
  width: calc(100% - 353px);
}
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#PersonalToolbar {
  margin-left: 458px !important;
  width: calc(100% - 466px);
@media (-moz-platform: windows) {
  margin-left: 459px !important;
  width: calc(100% - 467px);
}
@media (-moz-platform: linux) {
  margin-left: 465px !important;
  width: calc(100% - 473px);
}
}
}
}

@media -moz-pref("gwfox.plus_tb") {
#PersonalToolbar:not([customizing]) {
  position: relative;
  width: calc(100% - 16px);
  height: 48px;
  margin: 0 8px -48px 8px !important;
  box-shadow: none !important;
  outline: none !important;
  border-bottom: 1px solid rgba(105, 105, 105, .15) !important;
  background-color: var(--bg4) !important;
  backdrop-filter: blur(30px) !important;
@media not -moz-pref("gwfox.noborder") {
  border-top-left-radius: 7px !important;
  border-top-right-radius: 7px !important;
@media (-moz-mac-tahoe-theme) {
  border-top-left-radius: 11px !important;
  border-top-right-radius: 11px !important;
}
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
  transform: rotateX(90deg);
  transform-origin: top;
  transition: transform 105ms linear 500ms !important;
  z-index: 11;
@media -moz-pref("widget.macos.native-context-menus") {
  background-color: light-dark(rgba(255, 255, 255, .55), rgba(25, 25, 25, .65)) !important;
}
}

#navigator-toolbox:hover > #PersonalToolbar {
  transition-delay: 100ms;
  transform: rotateX(0deg);
}

@media not (-moz-platform: macos) {
#navigator-toolbox > #PersonalToolbar {
  grid-area: 3 !important;
  grid-column: 1 / span 2 !important;
}
}

:has(#PersonalToolbar .bookmark-item[open]) {
#PersonalToolbar {
  transition-delay: 100ms;
  transform: rotateX(0deg);
}
}
}
}

@media -moz-pref("sidebar.verticalTabs") {
.titlebar-buttonbox-container {
  position: fixed !important;
  margin-top: unset !important;
  left: 2px;
  top: 15.5px;
@media (-moz-platform: linux) {
  left: 12px;
}
}

.titlebar-buttonbox {
&::before {content: ""}
&::after {content: ""}
}

&:not([customizing]) .titlebar-spacer[type="pre-tabs"] {
  display: flex !important;
  width: 0 !important;
&::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 240px;
  height: 48px;
  z-index: 1;
}
}

#nav-bar-customization-target > :is(toolbarbutton, #stop-reload-button, #zoom-controls, #edit-controls) {
  z-index: 2;
}

#tab-notification-deck {
  top: 6px;
}

.wrapper {
  padding-top: 34px !important;
}

#sidebar-box {
  margin-top: -39px !important;
  margin-bottom: 2px !important;
@media (-moz-platform: windows) {
  margin-top: -38px !important;
}
}

.tools-and-extensions > moz-button {
  padding-left: var(--padding) !important;
  padding-right: var(--padding) !important;
}

.webextension-browser-action {
  margin-bottom: 9px !important;
}

#urlbar-container {
  width: fit-content !important;
}

#urlbar {
  position: fixed !important;
  left: 10px !important;
  top: 47px !important;
  min-width: 220px !important;
  max-width: 220px !important;
  z-index: 9;
}

.urlbar-revert-button,
.searchmode-switcher {
  margin-top: 1px !important;
}

:has(#urlbar[breakout][breakout-extend], [usertyping][focused]) {
.titlebar-buttonbox::after {
  position: fixed;
  top: 47px;
  left: 10px;
  width: 220px;
  height: 32px;
  border-radius: var(--br2);
  background: var(--button-active-bgcolor);
  pointer-events: none;
@media not (-moz-platform: macos) {
  background: light-dark(rgba(120, 120, 120, .1), rgba(155, 155, 155, .2));
}
}

:has(#urlbar[persistsearchterms]):not(:has(#urlbar[breakout][breakout-extend])) {
.titlebar-buttonbox::after {
  background: none;
}
}

#urlbar-container {
  background: transparent;
}
}

.urlbar-background, .urlbar-input-container {
  height: 32px !important;
  border-radius: var(--br2) !important;
}

#urlbar-search-mode-indicator {
  margin-top: 4px !important;
}

#identity-box, #tracking-protection-icon-container {
  margin-top: 1px !important;
}

#tabs-newtab-button {
  margin-top: 5px !important;
}

.tabbrowser-tab {
&[dragtarget] {
  position: unset !important;
  margin-bottom: -40px !important;
}
}

.tabbrowser-tab:-moz-window-inactive {
  opacity: .5 !important;
}

.tab-background {
  border-radius: var(--br2) !important;
}

.tabbrowser-tab:not([selected], [pinned], :hover) .tab-background {
  background: transparent !important;
}

@media not -moz-pref("gwfox.plus_sc") {
.tabbrowser-tab .tab-label-container {
  margin-left: 1px;
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 6.5px;
}
}

.tabbrowser-tab[usercontextid] > .tab-stack > .tab-background > .tab-context-line {
  margin: 6px 0 6px 0 !important;
}

&:not([customizing]) #vertical-spacer {
  max-width: 0 !important;
  min-width: 0 !important;
&::before {
  content: "";
  position: fixed;
  top: 8px;
  left: 240px;
  width: 100%;
  height: 13px;
  z-index: 9;
}
}

:has(#sidebar-box:not([hidden])) {
#vertical-spacer::before {
  left: 529px;
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#vertical-spacer::before {
  left: 649px;
}
}

:has(#tabbrowser-tabs:not([expanded])) {
#vertical-spacer::before {
  left: 82px;
}

:has(#sidebar-box:not([hidden])) {
#vertical-spacer::before {
  left: 370px;
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#vertical-spacer::before {
  left: 490px;
}
}
}

:has(.titlebar-buttonbox:hover, #PersonalToolbar:hover, .toolbarbutton-1:hover, #PersonalToolbar .bookmark-item[open]) {
#vertical-spacer::before {
  content: none;
}
}

@media not -moz-pref("gwfox.plus_tb") {
:has(#sidebar-main:not([hidden])) {
#PersonalToolbar {
  margin-left: 240px !important;
  width: calc(100% - 248px);
@media (-moz-platform: linux) {
  margin-left: 241px !important;
  width: calc(100% - 249px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 240px) !important;
}
}
}

:has(#sidebar-box:not([hidden])) {
#PersonalToolbar {
  margin-left: 528px !important;
  width: calc(100% - 536px);
@media (-moz-platform: linux) {
  margin-left: 530px !important;
  width: calc(100% - 538px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 528px) !important;
}
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#PersonalToolbar {
  margin-left: 648px !important;
  width: calc(100% - 656px);
@media (-moz-platform: linux) {
  margin-left: 650px !important;
  width: calc(100% - 658px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 648px) !important;
}
}
}
}

:root:not([inDOMFullscreen]) {
@media not (-moz-platform: linux) {
#nav-bar {
  margin-left: 71px !important;
@media (-moz-mac-tahoe-theme) {
  margin-left: 77px !important;
}
}
}

#tabbrowser-tabpanels {
  margin-top: -47px;
  transition: margin .25s !important;
  transition-delay: .5s !important;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
@media -moz-pref("gwfox.noborder") {
  margin-top: -47px;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
}
}

:has(#nav-bar:hover, #alltabs-button[open], #PanelUI-menu-button[open], #nav-bar-overflow-button[open], #unified-extensions-button[open], #downloads-button[open], .webextension-browser-action[open]) {
#tabbrowser-tabpanels {
  margin-top: -8px;
  transition: margin .5s !important;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0;
}
}
}

@media -moz-pref("gwfox.plus_tb") {
:has(#PersonalToolbar .bookmark-item[open]) {
#tabbrowser-tabpanels {
  margin-top: -8px;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0;
}
}
}
}
}

:has(#tabbrowser-tabs[expanded]) {
  --padding: 0;

&:not([customizing]) #nav-bar-customization-target > #sidebar-button:first-child {
  margin-inline-end: 20px !important;
@media (-moz-mac-tahoe-theme) {
  margin-inline-end: 14px !important;
}
}

@media not -moz-pref("gwfox.plus_sc") {
.tab-close-button {
  margin-inline-end: calc(-1 * var(--tab-close-button-padding)) !important;
}

.tabbrowser-tab:not([pinned]) .tab-icon-overlay {
  display: none !important;
}

.tabbrowser-tab:not([pinned]) .tab-audio-button:is([soundplaying], [muted], [activemedia-blocked]) {
  display: block !important;
  background-repeat: no-repeat;
  background-position: center;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  fill-opacity: .6;
&[soundplaying] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
}
&[muted] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-muted-small.svg");
}
&[activemedia-blocked] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-circle-12.svg");
}
}
}

#urlbar[breakout][breakout-extend] {
  left: 34vw !important;
}

#urlbar[usertyping]:not([focused]) {
  min-width: 220px !important;
  max-width: 220px !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 34vw !important;
}
}

:has(.titlebar-buttonbox:hover, .titlebar-spacer[type="pre-tabs"]:hover, #urlbar:hover, #back-button:hover, #forward-button:hover, #stop-reload-button:hover, #sidebar-button:hover) {
#tabbrowser-tabpanels {
  margin-top: -47px;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
@media -moz-pref("gwfox.noborder") {
  margin-top: -47px;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
}
}
}

@media not -moz-pref("gwfox.plus_sc") {
@media -moz-pref("sidebar.visibility", "expand-on-hover") {
.tabbrowser-tab[pinned] .tab-content {
  margin-left: -6px !important;
}

.tabbrowser-tab[pinned] .tab-icon-overlay {
  display: none !important;
}

.tabbrowser-tab[pinned] .tab-audio-button:is([soundplaying], [muted], [activemedia-blocked]) {
  display: block !important;
  background-repeat: no-repeat;
  background-position: center;
  -moz-context-properties: fill, fill-opacity;
  fill: currentColor;
  fill-opacity: .6;
&[soundplaying] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
}
&[muted] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-muted-small.svg");
}
&[activemedia-blocked] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-circle-12.svg");
}
}
}
}

@media (-moz-platform: linux) {
#tabbrowser-tabbox {
  margin-left: -1px !important;
}

#tabbrowser-tabs {
  margin-left: -3px !important;
  margin-right: -3px !important;
}

.tab-group-label {
  width: 220px !important;
}
}
}

:has(#tabbrowser-tabs:not([expanded])) {
  --padding: 16px;

:has(#sidebar-main:not([hidden])) {
.sidebar-splitter {
  cursor: col-resize !important;
}

@media not -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  margin-left: 81px !important;
  width: calc(100% - 89px);
@media (-moz-platform: windows) {
  margin-left: 83px !important;
  width: calc(100% - 91px);
}
@media (-moz-platform: linux) {
  margin-left: 84px !important;
  width: calc(100% - 92px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 81px) !important;
}
}
}
}

:has(#sidebar-box:not([hidden])) {
.sidebar-splitter {
  cursor: default !important;
}

#nav-bar {
  padding-left: 295px !important;
@media (-moz-platform: linux) {
  padding-left: 365px !important;
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  margin-left: 78px !important;
}
}
}

@media not -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  margin-left: 369px !important;
  width: calc(100% - 377px);
@media (-moz-platform: windows) {
  margin-left: 371px !important;
  width: calc(100% - 379px);
}
@media (-moz-platform: linux) {
  margin-left: 371px !important;
  width: calc(100% - 379px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 369px) !important;
}
}
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#nav-bar {
  padding-left: 415px !important;
@media (-moz-platform: linux) {
  padding-left: 485px !important;
}
}

@media not -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  margin-left: 489px !important;
  width: calc(100% - 497px);
@media (-moz-platform: windows) {
  margin-left: 491px !important;
  width: calc(100% - 499px);
}
@media (-moz-platform: linux) {
  margin-left: 491px !important;
  width: calc(100% - 499px);
}
@media -moz-pref("gwfox.noborder") {
  width: calc(100% - 489px) !important;
}
}
}
}

.tab-close-button {
  top: 1px !important;
  inset-inline-start: 0 !important;
}

.tab-group-label {
  font-size: 0 !important;
  margin-left: 10px !important;
  padding-left: 62px !important;
  background-position: center;
}

.tabbrowser-tab[pinned] {
  width: 74px !important;
}

.tabbrowser-tab {
  padding-left: 9px !important;
}

.tab-background {
  margin-inline: 0 !important;
  width: 62px !important;
}

.tabbrowser-tab:not([pinned]) .tab-icon-image {
  display: unset;
  margin-left: 6px;
@media (-moz-platform: linux) {
  margin-left: 3px;
}
}

.tabbrowser-tab:not([pinned]):hover .tab-icon-image {
  display: unset !important;
}

.tab-throbber {
  margin-left: 6px !important;
}

#tabs-newtab-button,
#vertical-tabs-newtab-button {
  min-width: 62px !important;
  margin-left: 10px !important;
}

#urlbar[breakout][breakout-extend] {
  left: 29.5vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 29.5vw !important;
}
}

#urlbar[usertyping]:not([focused]) {
  min-width: 62px !important;
  max-width: 62px !important;
}

#urlbar:not([breakout][breakout-extend])[persistsearchterms] {
  min-width: 62px !important;
  max-width: 62px !important;

.searchmode-switcher {
  margin-left: 16px !important;
  margin-right: 16px !important;
}
}

#urlbar:not([breakout][breakout-extend], [usertyping]) .searchmode-switcher {
  margin-left: 16px !important;
  margin-right: 16px !important;
}

:has(#sidebar-main:not([hidden])) {
#urlbar:not([breakout][breakout-extend], [usertyping]) {
  min-width: 62px !important;
  max-width: 62px !important;

#identity-box[pageproxystate="invalid"] #identity-icon {
  margin-left: -5px !important;
}

#identity-box {
  margin-right: 16px !important;
  margin-left: 16px !important;
}

#identity-permission-box,
#notification-popup-box,
#tracking-protection-icon-container {
  display: none !important;
}
}
}

:has(#urlbar[breakout][breakout-extend], [usertyping][focused]) {
.titlebar-buttonbox::after {
  width: 62px;
}
}

:has(.titlebar-buttonbox:hover, #urlbar:hover) {
#tabbrowser-tabpanels {
  margin-top: -47px;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
@media -moz-pref("gwfox.noborder") {
  margin-top: -47px;
@media (-moz-platform: windows) {
  margin-top: -46px;
}
}
}
}

@media (-moz-platform: linux) {
#sidebar-box {
  margin-left: 0 !important;
}
:has([sidebar-shown]) {
:has(#sidebar-box[hidden]) {
#tabbrowser-tabbox {
  margin-left: -7px !important;
}
}
}
}

@media not -moz-pref("sidebar.visibility", "hide-sidebar") {
#identity-box {
  opacity: 1 !important;
  margin-inline-start: 0 !important;
}

#urlbar:-moz-window-inactive #identity-box {
  opacity: unset !important;
}
}
}

@media -moz-pref("sidebar.visibility", "expand-on-hover") {
:has(#tabbrowser-tabs[expanded], #tabbrowser-tabs:not([expanded])) {
#urlbar[breakout][breakout-extend] {
  left: 29.5vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 29.5vw !important;
}
}
}
}

@media -moz-pref("sidebar.visibility", "hide-sidebar") {
:root:not([chromehidden~="toolbar"], [customizing], [inDOMFullscreen]):has(#tabbrowser-tabs:not([expanded])) {
.titlebar-buttonbox-container {
  position: fixed !important;
  top: 25px !important;
  left: -295px;
  transition: .01s;
  transition-delay: .25s;
}

.titlebar-spacer:not(#vertical-spacer)::before {
  content: none;
}

.titlebar-buttonbox {
  appearance: none !important;
&:not(:hover, :active) {
.titlebar-button:-moz-window-inactive {
  background-color: light-dark(#d6d6d6, #4c4c4c) !important;
  outline: .5px solid light-dark(#b3b3b3, transparent);
  outline-offset: -.5px;
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  background-color: transparent !important;
  outline: none;
}
}
}
}
@media (-moz-platform: macos) {
&::before {
  content: "";
  position: absolute;
  top: -5px;
  left: -20px;
  width: 25px;
  height: 28px;
}
}
}

.titlebar-button {
  appearance: none !important;
  display: flex !important;
  padding: 0 !important;
  margin-inline: 4px !important;
  border-radius: 50% !important;
  clip-path: circle(50%);
@media (-moz-mac-tahoe-theme) {
  padding: 1px !important;
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  padding: 2px !important;
  margin-inline: 2px !important;
  border-radius: 20% !important;
  clip-path: none;
}
}
}

.titlebar-close {
  order: -1 !important;
  content: var(--titlebar-close) !important;
  background-color: #ff5f57 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#e24138, transparent);
  outline-offset: -.5px;
@media -moz-pref("gwfox.plus") or (not -moz-pref("gwfox.plus_sc")) {
.titlebar-buttonbox:hover & {
  fill: light-dark(#730000, #990000);
&:active {
  background-color: light-dark(#c04741, #ff8d85) !important;
  fill: light-dark(#330000, #730100);
  outline: .5px solid light-dark(#a12822, transparent);
  outline-offset: -.5px;
}
}
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  order: unset !important;
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 3.5,3.01 a 0.5,0.5 0 0 0 -0.35,0.15 0.5,0.5 0 0 0 0,0.71 l 4.13,4.14 -4.14,4.13 a 0.5,0.5 0 0 0 0,0.71 0.5,0.5 0 0 0 0.71,0 L 8,8.71 12.14,12.85 a 0.5,0.5 0 0 0 0.71,0 0.5,0.5 0 0 0 0,-0.71 L 8.7,8 12.83,3.86 a 0.5,0.5 0 0 0 0,-0.71 0.5,0.5 0 0 0 -0.71,0 L 7.99,7.29 3.85,3.15 A 0.5,0.5 0 0 0 3.5,3.01 Z'/%3E%3C/svg%3E") !important;
  background-color: transparent !important;
  fill: light-dark(#000, #fff);
  fill-opacity: .8;
  outline: none;
&:hover {
  background-color: var(--button-hover-bgcolor) !important;
}
.titlebar-buttonbox:hover & {
  fill: light-dark(#000, #fff);
&:active {
  fill: light-dark(#000, #fff);
  outline: none;
  background-color: var(--button-active-bgcolor) !important;
}
}
}
}
}

.titlebar-min {
  content: var(--titlebar-min) !important;
  background-color: #febc2e !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#e19e0f, transparent);
  outline-offset: -.5px;
@media -moz-pref("gwfox.plus") or (not -moz-pref("gwfox.plus_sc")) {
.titlebar-buttonbox:hover & {
  fill: #985600;
&:active {
  background-color: light-dark(#be8d22, #ffea5c) !important;
  fill: light-dark(#582700, #735e00);
  outline: .5px solid light-dark(#a06f0a, transparent);
  outline-offset: -.5px;
}
}
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  order: unset !important;
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 3.5,7.5 A 0.5,0.5 0 0 0 3,8 0.5,0.5 0 0 0 3.5,8.5 h 9 A 0.5,0.5 0 0 0 13,8 0.5,0.5 0 0 0 12.5,7.5 Z'/%3E%3C/svg%3E") !important;
  background-color: transparent !important;
  fill: light-dark(#000, #fff);
  fill-opacity: .8;
  outline: none;
&:hover {
  background-color: var(--button-hover-bgcolor) !important;
}
.titlebar-buttonbox:hover & {
  fill: light-dark(#000, #fff);
&:active {
  fill: light-dark(#000, #fff);
  outline: none;
  background-color: var(--button-active-bgcolor) !important;
}
}
}
}
}

.titlebar-max {
  content: var(--titlebar-max) !important;
  background-color: #28c840 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#0aaa21, transparent);
  outline-offset: -.5px;
@media -moz-pref("gwfox.plus") or (not -moz-pref("gwfox.plus_sc")) {
.titlebar-buttonbox:hover & {
  fill: #006200;
&:active {
  background-color: light-dark(#1e9730, #56f66e) !important;
  fill: light-dark(#003000, #006a00);
  outline: .5px solid light-dark(#0a7811, transparent);
  outline-offset: -.5px;
}
}
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  order: unset !important;
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 4.5,3 C 3.677,3 3,3.677 3,4.5 v 7 C 3,12.323 3.677,13 4.5,13 h 7 c 0.823,0 1.5,-0.677 1.5,-1.5 v -7 C 13,3.677 12.323,3 11.5,3 Z m 0,1 h 7 C 11.782,4 12,4.218 12,4.5 v 7 c 0,0.282 -0.218,0.5 -0.5,0.5 h -7 A 0.493,0.493 0 0 1 4,11.5 v -7 C 4,4.218 4.218,4 4.5,4 Z'/%3E%3C/svg%3E") !important;
  background-color: transparent !important;
  fill: light-dark(#000, #fff);
  fill-opacity: .8;
  outline: none;
&:hover {
  background-color: var(--button-hover-bgcolor) !important;
}
.titlebar-buttonbox:hover & {
  fill: light-dark(#000, #fff);
&:active {
  fill: light-dark(#000, #fff);
  outline: none;
  background-color: var(--button-active-bgcolor) !important;
}
}
}
}
}

.titlebar-restore {
  content: var(--titlebar-restore) !important;
  background-color: #28c840 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#0aaa21, transparent);
  outline-offset: -.5px;
@media -moz-pref("gwfox.plus") or (not -moz-pref("gwfox.plus_sc")) {
.titlebar-buttonbox:hover & {
  fill: #006200;
&:active {
  background-color: light-dark(#1e9730, #56f66e) !important;
  fill: light-dark(#003000, #006a00);
  outline: .5px solid light-dark(#0a7811, transparent);
  outline-offset: -.5px !important;
}
}
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  order: unset !important;
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m 5.5,4 h 5 A 1.5,1.5 0 0 1 12,5.5 v 5 a 1,1 0 0 0 1,-1 v -4 A 2.5,2.5 0 0 0 10.5,3 h -4 a 1,1 0 0 0 -1,1 z M 3,6.5 v 5 A 1.5,1.5 0 0 0 4.5,13 h 5 A 1.5,1.5 0 0 0 11,11.5 v -5 A 1.5,1.5 0 0 0 9.5,5 h -5 A 1.5,1.5 0 0 0 3,6.5 Z M 4.5,6 h 5 A 0.5,0.5 0 0 1 10,6.5 v 5 A 0.5,0.5 0 0 1 9.5,12 h -5 A 0.5,0.5 0 0 1 4,11.5 v -5 A 0.5,0.5 0 0 1 4.5,6 Z'/%3E%3C/svg%3E") !important;
  background-color: transparent !important;
  fill: light-dark(#000, #fff);
  fill-opacity: .8;
  outline: none;
&:hover {
  background-color: var(--button-hover-bgcolor) !important;
}
.titlebar-buttonbox:hover & {
  fill: light-dark(#000, #fff);
&:active {
  fill: light-dark(#000, #fff);
  outline: none;
  background-color: var(--button-active-bgcolor) !important;
}
}
}
}
}

@media (-moz-platform: linux) {
#tabbrowser-tabbox {
  margin-left: -2px !important;
}
}

#nav-bar {
@media not -moz-pref("gwfox.plus_tb") {
  margin-top: -47px !important;
@media (-moz-platform: windows) {
  margin-top: -46px !important;
}
@media -moz-pref("gwfox.noborder") {
  margin-top: -47px !important;
@media (-moz-platform: windows) {
  margin-top: -46px !important;
}
}
}
&:-moz-window-inactive {
  z-index: 10;
}
}

.titlebar-buttonbox-container, #PanelUI-menu-button, #nav-bar-overflow-button, #downloads-button,
#sidebar-button, #back-button, #forward-button, #stop-reload-button, #unified-extensions-button {
  z-index: 10;
}

#reload-button,
#stop-button,
#back-button,
#forward-button,
#sidebar-button {
  position: fixed !important;
  top: 10px;
  left: -295px;
  transition: .01s;
  transition-delay: .25s;
}

#downloads-button,
#PanelUI-menu-button,
#nav-bar-overflow-button,
#unified-extensions-button {
  position: fixed !important;
  bottom: 16px;
  left: -295px;
  scale: .9;
  transition: .01s;
  transition-delay: .25s;
}

#downloads-button,
#nav-bar-overflow-button,
#unified-extensions-button {
  display: flex !important;
}

#tabbrowser-tabs {
  margin-top: 50px !important;
  margin-bottom: 45px !important;
&:has([pinned]) {
  margin-top: 48px !important;
}

#tabbrowser-tabs {
tab-group > .tabbrowser-tab,
&[movingtab][movingtab-addToGroup]:not([movingtab-group],[movingtab-ungroup]) .tabbrowser-tab:is(:active,[multiselected]) {
  margin-inline-start: 0 !important;
}
}

tab-group {
.tab-group-label {
  font-size: 13px !important;
  background-position: left 9px bottom 11px;

#tabbrowser-tabs:not([expanded]) & {
  width: 220px !important;
  padding-left: 33px !important;
  max-width: unset !important;
  font-size-adjust: unset !important;
}

tab-group[collapsed] > .tab-group-label-container & {
  background-position: left 9px bottom 7.5px;
[hasactivetab] & {
  background-position: left 9px bottom 7.5px, left 12.5px bottom 7.5px;
}
}
}
}
}

#tabbrowser-tabs {
  width: 240px !important;
&[overflow]::after {
  content: none !important;
}
}

#tabs-newtab-button,
#vertical-tabs-newtab-button {
  width: 220px !important;
  margin-left: 10px !important;
}

#tabbrowser-tabs .toolbarbutton-text {
  margin-left: 2px !important;
}

#pinned-tabs-container[orient="vertical"] {
  margin-left: 5px !important;
  margin-right: 4px !important;

.tab-background {
  width: 100% !important;
  min-width: unset !important;
}

.tabbrowser-tab {
  margin-left: -5px !important;
  margin-right: -6px !important;
  width: 100% !important;
}

.tab-label-container {
  display: none !important;
}

.tab-icon-image {
  padding-left: 60% !important;
}

.tab-content {
  justify-content: center !important;
}
}

#vertical-pinned-tabs-splitter {
  border-top: none !important;
}

.tabbrowser-tab:not([pinned]) {
  min-width: 228px !important;
tab-split-view-wrapper & {
&:last-child {
  margin-inline-start: -5px !important;
}
}
.tab-content {
tab-split-view-wrapper & {
  max-width: 102px !important;
}
}
}

.tab-background {
  min-width: 220px !important;
tab-split-view-wrapper & {
  min-width: 107px !important;
}
}

.tab-icon-image, .tab-throbber {
  margin-left: -9px !important;
  margin-right: 7.5px !important;
}

.tab-label-container,
#tabbrowser-tabs .toolbarbutton-text {
  display: block !important;
}

.tab-icon-overlay {
  display: none !important;
}

.tab-audio-button:is([soundplaying], [muted], [activemedia-blocked]) {
  display: block !important;
  background-repeat: no-repeat;
  background-position: center;
  -moz-context-properties: fill, fill-opacity;
  margin-inline-end: -12px !important;
  fill: currentColor;
  fill-opacity: .6;
&[soundplaying] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-playing-small.svg");
}
&[muted] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-muted-small.svg");
}
&[activemedia-blocked] {
  background-image: url("chrome://browser/skin/tabbrowser/tab-audio-blocked-circle-12.svg");
}
@media -moz-pref("gwfox.plus_sc") {
  margin-inline-end: 0 !important;
}
}

.tab-close-button {
  -moz-context-properties: fill, fill-opacity !important;
  margin-inline-end: calc(var(--tab-inline-padding) / -2) !important;
  width: 24px !important;
  height: 24px !important;
  margin-top: 3px !important;
  margin-left: 3px !important;
  box-sizing: border-box !important;
  padding: var(--tab-close-button-padding) !important;
  border-radius: var(--tab-border-radius) !important;
  list-style-image: url("data:image/svg+xml,%3Csvg width='12' height='12' fill='context-fill' fill-opacity='context-fill-opacity' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.116 6 2 9.116l.884.884L6 6.884 9.116 10 10 9.116 6.884 6 10 2.884 9.116 2 6 5.116 2.884 2 2 2.884 5.116 6z'/%3E%3C/svg%3E") !important;
  box-shadow: unset !important;
&:hover {
  background: var(--button-hover-bgcolor) !important;
}
&:hover:active {
  background: var(--button-active-bgcolor) !important;
}
@media -moz-pref("gwfox.plus_sc") {
  margin-left: 192px !important;
}
}

@media -moz-pref("gwfox.plus_sc") {
.tabbrowser-tab[selected]:not([pinned]) .tab-content, .tab-content:not([pinned]):hover {
  margin-right: 20px !important;
}

.tabbrowser-tab[selected]:not([pinned]) .tab-close-button {
  opacity: 1 !important;
}
}

@media not -moz-pref("gwfox.plus_sc") {
.tabbrowser-tab .tab-label-container {
  margin-left: 1px;
}

.tabbrowser-tab:not([pinned]):hover .tab-icon-image {
  opacity: 0;
}

.tabbrowser-tab:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 1px;
}

.tabbrowser-tab:hover:not([pinned]):is([soundplaying], [muted], [activemedia-blocked]) .tab-label-container {
  margin-left: 1px;
}
}

.tabbrowser-tab[pinned] .tab-audio-button {
  display: none !important;
}

.tabbrowser-tab[pinned] .tab-icon-overlay {
  display: flex !important;
}

#urlbar[breakout][breakout-extend] {
  left: 27.5vw !important;
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#urlbar {
  left: 27.5vw !important;
}
}

#urlbar[usertyping]:not([focused]),
#urlbar:not([open])[persistsearchterms],
#urlbar:not([open], [usertyping]) {
  top: 55px !important;
  left: -295px !important;
}

#urlbar:not(:hover, [open]) {
  transition: .01s !important;
  transition-delay: .25s !important;
}

#urlbar:not([open], [usertyping])[pageproxystate="invalid"] {
.urlbar-input-container {
  margin-left: -16px !important;
}

.urlbar-input {
  margin-left: -8px !important;
}
}

#urlbar:not([open])[persistsearchterms] {
  min-width: 220px !important;
  max-width: 220px !important;
.searchmode-switcher {
  margin-left: unset !important;
  margin-right: unset !important;
}
}

#toolbar-context-customize-sidebar {
  display: none !important;
}

#sidebar-main {
  height: calc(100% - 16px) !important;
  min-width: 240px !important;
  display: flex !important;
  position: fixed;
  top: 8px;
  left: -295px;
  z-index: 9;
  border-radius: var(--br2) !important;
  background-color: var(--bg4);
  backdrop-filter: blur(30px);
  overflow: unset !important;
  transition: .01s;
  transition-delay: .25s;
@media (-moz-mac-tahoe-theme) {
  border-radius: 12px !important;
}
@media (-moz-platform: windows) {
  top: 9px;
  height: calc(100% - 17px) !important;
}
@media (-moz-platform: linux) {
@media not -moz-pref("gwfox.bms") {
  background-color: var(--bg2) !important;
  backdrop-filter: blur(0px) !important;
}
}
@media (prefers-color-scheme: dark) {
@media not (-moz-platform: linux) {
  box-shadow: var(--bs2) !important;
@media (-moz-platform: macos) {
  outline: 1px solid rgba(235, 235, 235, .2) !important;
  outline-offset: -1px !important;
}   
}
@media (-moz-platform: linux) {
  border: 1px solid rgba(255, 255, 255, .06) !important;
}
}
&::before {
  content: "";
  position: absolute;
  top: 0;
  left: -20px;
  width: 25px;
  height: 100%;
}
&::after {
  content: "";
  position: absolute;
  top: 0;
  right: -75px;
  width: 80px;
  height: 100%;
}
}

#sidebar-box {
  margin-top: 0 !important;
  margin-left: 2px !important;
  margin-right: -6px !important;
}

#tabbrowser-tabpanels {
  margin-top: 0;
&[splitview] {
.split-view-splitter {
  margin-inline-start: -8.5px !important;
  margin-inline-end: -8.5px !important;
@media not (-moz-platform: macos) {
  margin-inline-start: -7px !important;
  margin-inline-end: -7px !important;
}
}
@media -moz-pref("gwfox.noborder") {
.split-view-panel[column="0"] {
  margin-inline-end: 16px !important;
}
}
}
}

@media not -moz-pref("gwfox.plus_tb") {
:has(#sidebar-box:not([hidden])) {
#PersonalToolbar {
  margin-left: 282px !important;
  width: calc(100% - 290px);
}
}
}

@media not -moz-pref("gwfox.plus_tb") {
:has(#urlbar:hover, .titlebar-buttonbox:hover) {
#tabbrowser-tabpanels {
  margin-top: 0 !important;
}
}
}

:has(#urlbar[open]) {
.titlebar-buttonbox::after {
  content: none;
}

#sidebar-button, #reload-button, #stop-button, #back-button,
#forward-button, #PanelUI-menu-button, #nav-bar-overflow-button,
#unified-extensions-button, #downloads-button, #sidebar-main,
.titlebar-buttonbox-container {
  display: none !important;
}
}

:has(#urlbar[usertyping]:not([persistsearchterms])[focused]) {
#sidebar-button, #reload-button, #stop-button, #back-button,
#forward-button, #PanelUI-menu-button, #nav-bar-overflow-button,
#unified-extensions-button, #downloads-button, #sidebar-main,
.titlebar-buttonbox-container {
  display: none !important;
}
}

:has(#identity-box[pageproxystate="valid"].extensionPage) {
#urlbar:not([open]) .urlbar-input-container {
  background-position: left 6px bottom 7px;
}
}

:has(#tabbrowser-tabs:not([expanded])) {
  --dp: none;
}

:has(#sidebar-main:hover) {
#sidebar-main, #stop-button, #back-button, #reload-button, #forward-button, #sidebar-button, #downloads-button, #PanelUI-menu-button, #nav-bar-overflow-button, #unified-extensions-button, .titlebar-buttonbox-container, #urlbar:not(:hover, [open]) {
  transition: left .5s !important;
  transition-timing-function: cubic-bezier(.27, 1.217, .17, 1.0117) !important;
}
}

:has(#sidebar-main:hover, .titlebar-buttonbox:hover, #tabContextMenu:hover, #toolbar-context-menu:hover, toolbarbutton:is(#sidebar-button, #reload-button, #stop-button, #back-button, #forward-button, #PanelUI-menu-button, #nav-bar-overflow-button, #unified-extensions-button, #downloads-button):hover, toolbarbutton:is(#unified-extensions-button, #downloads-button, #PanelUI-menu-button, #nav-bar-overflow-button)[open], .tab-group-editor-panel[panelopen="true"], #tabbrowser-tabs[movingtab], #urlbar:not([open]):hover, #urlbar:not([open])[persistsearchterms]:hover, #urlbar:not([open]) .urlbar-page-action[open], #urlbar:not([open]) .identity-box-button[open], #urlbar:not([open]) #notification-popup-box[open], #urlbar:not([open]) #tracking-protection-icon-container[open]) {
.titlebar-buttonbox-container {
  left: 7px;
@media (-moz-platform: windows) {
  left: 18px;
}
@media (-moz-platform: linux) {
  left: 22px;
}
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  top: 22px !important;
  left: 170px;
}
}
}

#reload-button,
#stop-button,
#back-button,
#forward-button,
#sidebar-button {
  left: 80px;
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  left: 8px;
}
}
}

#back-button {
  left: 138px;
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  left: 67px;
}
}
}

#forward-button {
  left: 172px;
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  left: 100px;
}
}
}

#reload-button,
#stop-button {
  left: 206px;
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
  left: 133px;
}
}
}

#downloads-button,
#PanelUI-menu-button,
#nav-bar-overflow-button,
#unified-extensions-button {
  left: 54px;
}

#nav-bar-overflow-button {
  left: 92px;
}

#unified-extensions-button {
  left: 129px;
}

#downloads-button {
  left: 166px;
}

#sidebar-main {
  left: 8px;
  box-shadow: var(--bs1);
}

.tab-throbber {
  margin-left: -9px !important;
}

#urlbar[usertyping]:not([focused]),
#urlbar:not([open])[persistsearchterms],
#urlbar:not([open], [usertyping]) {
  left: 18px !important;
}
}

#urlbar[usertyping]:not([focused]) {
  min-width: 220px !important;
  max-width: 220px !important;
}

#vertical-spacer::before {
  width: 0;
}

@media -moz-pref("gwfox.plus_tb") {
@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
.titlebar-buttonbox {
  inset-inline-end: unset;
  height: unset !important;
}

#PersonalToolbar {
  padding-inline-end: 8px !important;
}

:has(#tabbrowser-tabs:not([expanded])) {
#nav-bar {
  margin-left: 0 !important;
}
}
}
}

#nav-bar {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

#nav-bar .toolbarbutton-1:not(#sidebar-button, #reload-button, #stop-button, #back-button, #forward-button, #PanelUI-menu-button, #nav-bar-overflow-button, #unified-extensions-button, #downloads-button) {
  display: none !important;
}

#vertical-spacer::before {
  left: 0 !important;
  width: 100%;
}

#tabbrowser-tabpanels {
  margin-top: -47px !important;
@media (-moz-platform: windows) {
  margin-top: -46px !important;
}
@media -moz-pref("gwfox.noborder") {
  margin-top: -47px !important;
@media (-moz-platform: windows) {
  margin-top: -46px !important;
}
}
}

@media (-moz-platform: macos) or (not -moz-pref("gwfox.plus_sc")) {
#sidebar-box {
  margin-top: -39px !important;
  margin-bottom: 2px !important;
@media (-moz-platform: windows) {
  margin-top: -38px !important;
}
}
}

:has(#vertical-spacer:hover, #PersonalToolbar:hover, #PersonalToolbar .bookmark-item[open]) {
#tabbrowser-tabpanels {
  margin-top: -8px !important;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0 !important;
}
}
}
}
}
}

:root[inFullscreen] {
#vertical-spacer {
  display: flex !important;
}

.browser-toolbox-background {
  background: transparent !important;
}

@media (not -moz-pref("gwfox.plus_sc")) and (not -moz-pref("sidebar.visibility", "hide-sidebar")) {
#sidebar-button {
  position: fixed;
  left: 5px;
  top: 2px;
}
}

:has(#urlbar[breakout][breakout-extend], [usertyping]) {
#back-button::before {
  content: "";
  position: fixed;
  top: 47px;
  left: 10px;
  width: 220px;
  height: 32px;
  border-radius: var(--br2);
  background: var(--button-active-bgcolor);
@media (-moz-platform: windows) {
  background: light-dark(rgba(120, 120, 120, .1), rgba(155, 155, 155, .2));
}
}

:has(#urlbar[persistsearchterms]) {
#back-button::before {
  background: none;
}
}
}

:has(#tabbrowser-tabs:not([expanded])) {
:has(#urlbar[breakout][breakout-extend], [usertyping]) {
#back-button::before {
  width: 62px;
}
}

@media (not -moz-pref("gwfox.plus_sc")) and (not -moz-pref("sidebar.visibility", "hide-sidebar")) {
#sidebar-button {
  left: 20px;
}
}
}

:has(#sidebar-main[hidden]) {
@media not (-moz-platform: linux) {
#nav-bar {
  padding-left: 55px !important;
}
}
}
}

:root:not([sizemode="maximized"], [sizemode="fullscreen"]):has(#sidebar-main[hidden]) .titlebar-restore, 
:root:is([sizemode="maximized"], [sizemode="fullscreen"]):has(#sidebar-main[hidden]) .titlebar-max {
  display: none !important;
}

:root[customizing] {
#urlbar {
  visibility: hidden;
}
}

@media -moz-pref("gwfox.plus_tb") {
#navigator-toolbox {
  display: grid;
  grid-template-columns: minmax(auto, 0) auto;
}

#nav-bar {
  width: fit-content !important;
  grid-area: 2 / 1 / auto / auto;
}

#PersonalToolbar {
  grid-area: 2 / 2 / auto / auto;
@media (-moz-platform: macos) {
  margin-top: 2px !important;
}
}

#TabsToolbar {
  display: none;
}

:has(#PersonalToolbar:hover) {
#tabbrowser-tabpanels {
  margin-top: -8px;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0;
}
}
}

@media (-moz-platform: macos) or (not -moz-pref("gwfox.plus_sc")) {
:has(#tabbrowser-tabs[expanded]) {
:has(#sidebar-box:not([hidden])) {
#nav-bar-customization-target > :is(toolbarbutton, toolbaritem):nth-child(4) {
  padding-inline-end: 260px !important;
:root[inFullscreen] & {
  padding-inline-end: 315px !important;
}
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#nav-bar-customization-target > :is(toolbarbutton, toolbaritem):nth-child(4) {
  padding-inline-end: 380px !important;
:root[inFullscreen] & {
  padding-inline-end: 435px !important;
}
}
}
}
}

@media not (-moz-platform: macos) {
@media -moz-pref("gwfox.plus_sc") {
#urlbar-container {
  margin-left: 40px !important;
}
}
}

:has([splitview]) {
#PersonalToolbar {
  opacity: 0;
  transition: .25s !important;
  transition-delay: .5s !important;
}
:has(#vertical-spacer:hover, #PersonalToolbar:hover, #PersonalToolbar .bookmark-item[open]) {
#PersonalToolbar {
  opacity: 1;
  transition: .25s !important;
  transition-delay: 0 !important;
}
}
}
}
}

@media not (-moz-platform: macos) {
:root[inFullscreen] {
@media not -moz-pref("gwfox.plus_sc") {
.titlebar-buttonbox-container {
  display: none !important;
}
}

#PersonalToolbar {
  visibility: unset !important;
}
}
}

@media not (-moz-platform: macos) {
#toolbar-menubar {
  position: fixed;
  top: 49px;
  right: 9px;
  z-index: 9;
  border-radius: var(--br2);
  background-color: light-dark(rgba(255, 255, 255, .95), rgba(15, 15, 12, .85)) !important;
  box-shadow: 0 8px 12px rgba(0, 0, 0, .2) !important;
  padding: 0 2px !important;
:root[customtitlebar] #navigator-toolbox[tabs-hidden] > & {
  min-height: unset !important;
}
@media -moz-pref("sidebar.verticalTabs") {
  top: 10px;
}
}

@media not -moz-pref("gwfox.plus_sc") {
.titlebar-buttonbox-container {
  left: 15px;
  top: 17.5px;
@media (-moz-platform: linux) {
position: fixed !important;
}
}

.titlebar-buttonbox {
  appearance: none !important;
&:not(:hover, :active) {
.titlebar-button:-moz-window-inactive {
  background-color: light-dark(#d6d6d6, #4c4c4c) !important;
  outline: .5px solid light-dark(#b3b3b3, transparent);
  outline-offset: -.5px;
@media (-moz-platform: windows) {
  background-color: light-dark(#bababa, #626262) !important;
}
}
}
}

.titlebar-button {
  appearance: none !important;
  padding: 0 !important;
  margin-inline: 4px !important;
  border-radius: 50% !important;
  clip-path: circle(50%);
}

.titlebar-close {
  order: -1 !important;
  content: var(--titlebar-close) !important;
  background-color: #ff5f57 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#e24138, transparent);
  outline-offset: -.5px;
.titlebar-buttonbox:hover & {
  fill: light-dark(#730000, #990000);
&:active {
  background-color: light-dark(#c04741, #ff8d85) !important;
  fill: light-dark(#330000, #730100);
  outline: .5px solid light-dark(#a12822, transparent);
  outline-offset: -.5px;
}
}
}

.titlebar-min {
  content: var(--titlebar-min) !important;
  background-color: #febc2e !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#e19e0f, transparent);
  outline-offset: -.5px;
.titlebar-buttonbox:hover & {
  fill: #985600;
&:active {
  background-color: light-dark(#be8d22, #ffea5c) !important;
  fill: light-dark(#582700, #735e00);
  outline: .5px solid light-dark(#a06f0a, transparent);
  outline-offset: -.5px;
}
}
}

.titlebar-max {
  content: var(--titlebar-max) !important;
  background-color: #28c840 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#0aaa21, transparent);
  outline-offset: -.5px;
.titlebar-buttonbox:hover & {
  fill: #006200;
&:active {
  background-color: light-dark(#1e9730, #56f66e) !important;
  fill: light-dark(#003000, #006a00);
  outline: .5px solid light-dark(#0a7811, transparent);
  outline-offset: -.5px;
}
}
}

.titlebar-restore {
  content: var(--titlebar-restore) !important;
  background-color: #28c840 !important;
  -moz-context-properties: fill, fill-opacity;
  fill: transparent;
  outline: .5px solid light-dark(#0aaa21, transparent);
  outline-offset: -.5px;
.titlebar-buttonbox:hover & {
  fill: #006200;
&:active {
  background-color: light-dark(#1e9730, #56f66e) !important;
  fill: light-dark(#003000, #006a00) !important;
  outline: .5px solid light-dark(#0a7811, transparent);
  outline-offset: -.5px !important;
}
}
}

@media (-moz-platform: windows) {
@media -moz-pref("sidebar.verticalTabs") {
.titlebar-buttonbox-container {
  left: 12px;
  top: 16px;
}
}
}

@media (-moz-platform: linux) {
@media -moz-pref("sidebar.verticalTabs") {
.titlebar-buttonbox-container {
  left: 13px;
}
}

#nav-bar {
  padding-left: 76px !important;
}
}
}

@media -moz-pref("gwfox.plus_sc") {
@media -moz-pref("sidebar.verticalTabs") {
#toolbar-menubar {
.titlebar-buttonbox-container {
  visibility: collapse;
}
}

.titlebar-buttonbox-container {
  position: unset !important;
@media (-moz-platform: windows) {
  margin-top: -1px !important;
}
@media (-moz-platform: linux) {
  padding-bottom: 2px;
}
}

#sidebar-box {
  margin-top: 0 !important;
}

:root:not([inDOMFullscreen]) {
#nav-bar {
  margin-left: 5px !important;
}

:has(#tabbrowser-tabs:not([expanded])) {
#nav-bar {
  margin-left: 18px !important;
}
}

:has(#sidebar-box:not([hidden])),
:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#tabbrowser-tabpanels {
  margin-top: -8px !important;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0 !important;
}
}
}
}

:has(.titlebar-buttonbox:hover) {
#tabbrowser-tabpanels {
  margin-top: -8px !important;
@media -moz-pref("gwfox.noborder") {
  margin-top: 0 !important;
}
}
}

:has(#tabbrowser-tabs:not([expanded])) {
:has([sidebar-shown]) {
#nav-bar {
  padding-left: 65px !important;
}

#sidebar-button {
  position: fixed !important;
  top: 2px;
  left: 18px;
}
}

:has(#sidebar-box:not([hidden])),
:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#nav-bar {
  padding-left: 0 !important;
}
}
}

@media -moz-pref("gwfox.plus_tb") {
.titlebar-buttonbox {
  position: fixed !important;
  inset-inline-end: 0;
  height: 46px !important;
}

#PersonalToolbar {
  padding-inline-end: 150px !important;
@media (-moz-platform: linux) {
padding-inline-end: 46px !important;
@media (-moz-gtk-csd-maximize-button) or (-moz-gtk-csd-minimize-button) {
  padding-inline-end: 83px !important;
}
@media (-moz-gtk-csd-maximize-button) and (-moz-gtk-csd-minimize-button) and (-moz-gtk-csd-close-button) {
  padding-inline-end: 120px !important;
}
}
}
}
}
}
}
}

@media -moz-pref("gwfox.noborder") {
:root:not([inDOMFullscreen], [chromehidden~="toolbar"]) {
#tabbrowser-tabpanels {
&[splitview] {
.browserStack, .browserContainer {
  border-radius: 0 !important;
  box-shadow: 0 0 2px light-dark(#00000026, #00000040) !important;
:has([sidebar-shown]) & {
@media not -moz-pref("sidebar.verticalTabs") {
.split-view-panel[column="0"] & {
  border-start-start-radius: 12px !important;
}  
}  
}
}
.split-view-panel[column="0"] {
  margin-inline-end: 8px !important;
}
}
}

#tabbrowser-tabbox browser {
  border-radius: 0 !important;
  clip-path: inset(0 round .1px) !important;
}

.browserStack,
.devtools-toolbox-side-iframe,
.devtools-toolbox-bottom-iframe {
  border-radius: 0 !important;
  margin: 0 !important;
  box-shadow: 0 0 2px light-dark(#00000026, #00000040) !important;
}

.devtools-toolbox-bottom-iframe {
  margin-top: 8px !important;
}

.devtools-toolbox-side-iframe {
&:first-child {
  margin-left: 0 !important;
  margin-right: 8px !important;
}

&:last-child {
  margin-left: 8px !important;
  margin-right: 0 !important;
}
}

@media not -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  margin: 0 !important;
  width: 100% !important;
@media not (-moz-platform: linux) {
  border-radius: 0 !important;
}
}
}

@media not -moz-pref("sidebar.verticalTabs") {
:has([sidebar-shown]) {
.browserStack {
  border-start-start-radius: 12px !important;
}

#tabbrowser-tabbox browser:not(.devtools-toolbox-bottom-iframe, .devtools-toolbox-side-iframe) {
  clip-path: inset(0 round 12px 0 0 0) !important;
  border-start-start-radius: 10px !important;
.split-view-panel[column="1"] & {
  clip-path: inset(0 round .1px) !important;
  border-start-start-radius: 0 !important;
}
}

@media -moz-pref("gwfox.plus_tb") {
#PersonalToolbar {
  border-top-left-radius: 12px !important;
}
}
}

@media -moz-pref("gwfox.plus") {
:has(#sidebar-main[hidden]) {
#PersonalToolbar {
  width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}
}

:has(#sidebar-main:not([hidden])) {
#PersonalToolbar {
  width: calc(100% - 50px) !important;
}
}

:has(#sidebar-box:not([hidden])) {
#PersonalToolbar {
  margin-left: 338px !important;
  width: calc(100% - 340px) !important;
@media (-moz-platform: windows) {
  margin-left: 339px !important;
}
@media (-moz-platform: linux) {
  margin-left: 345px !important;
  width: calc(100% - 347px) !important;
}
}
}

:has(#sidebar-box[sidebarcommand="viewGenaiChatSidebar"]:not([hidden])) {
#PersonalToolbar {
  margin-left: 458px !important;
  width: calc(100% - 460px) !important;
@media (-moz-platform: windows) {
  margin-left: 459px !important;
}
@media (-moz-platform: linux) {
  margin-left: 465px !important;
  width: calc(100% - 467px) !important;
}
}
}
}
}
}
}
